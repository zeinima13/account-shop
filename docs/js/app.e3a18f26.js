(()=>{"use strict";var e={49072:(e,t,n)=>{var r=n(78676),a=(n(23792),n(3362),n(69085),n(9391),n(5506),n(45130)),l=n(95835),u=(n(4188),n(56768));function o(e,t){var n=(0,u.g2)("router-view");return(0,u.uX)(),(0,u.Wv)(n,null,{default:(0,u.k6)((function(e){var t=e.Component;return[((0,u.uX)(),(0,u.Wv)((0,u.$y)(t)))]})),_:1})}var i=n(71241);const c={},d=(0,i.A)(c,[["render",o]]),s=d;n(15086),n(26099),n(98992),n(37550);var f=n(81387),p=(n(62010),n(24232)),m={class:"shop-container"},v={class:"order-form"},k={class:"quantity-controls"},b={class:"quantity-value"};function g(e,t,n,r,l,o){var i=(0,u.g2)("el-option"),c=(0,u.g2)("el-select"),d=(0,u.g2)("el-form-item"),s=(0,u.g2)("el-button"),f=(0,u.g2)("el-radio"),g=(0,u.g2)("el-radio-group"),y=(0,u.g2)("el-form");return(0,u.uX)(),(0,u.CE)("div",m,[(0,u.Lk)("div",v,[(0,u.bF)(y,{onSubmit:(0,a.D$)(r.submitOrder,["prevent"])},{default:(0,u.k6)((function(){return[(0,u.bF)(d,null,{default:(0,u.k6)((function(){return[(0,u.bF)(c,{modelValue:r.form.productType,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.form.productType=e}),placeholder:"请选择商品类型",style:{width:"100%"}},{default:(0,u.k6)((function(){return[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(r.productTypes,(function(e){return(0,u.uX)(),(0,u.Wv)(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,u.bF)(d,null,{default:(0,u.k6)((function(){return[(0,u.bF)(c,{modelValue:r.form.product,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.form.product=e}),placeholder:"请选择商品",style:{width:"100%"}},{default:(0,u.k6)((function(){return[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(r.filteredProducts,(function(e){return(0,u.uX)(),(0,u.Wv)(i,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,u.bF)(d,null,{default:(0,u.k6)((function(){return[(0,u.bF)(c,{modelValue:r.form.region,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.form.region=e}),placeholder:"请选择地区",style:{width:"100%"}},{default:(0,u.k6)((function(){return[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(r.regions,(function(e){return(0,u.uX)(),(0,u.Wv)(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,u.Lk)("div",k,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(r.quantities,(function(e,n){return(0,u.uX)(),(0,u.CE)("div",{class:"quantity-item",key:n},[(0,u.bF)(s,{circle:"",size:"small",onClick:function(e){return r.decreaseQuantity(n)}},{default:(0,u.k6)((function(){return t[4]||(t[4]=[(0,u.eW)("-")])})),_:2},1032,["onClick"]),(0,u.Lk)("span",b,(0,p.v_)(e),1),(0,u.bF)(s,{circle:"",size:"small",onClick:function(e){return r.increaseQuantity(n)}},{default:(0,u.k6)((function(){return t[5]||(t[5]=[(0,u.eW)("+")])})),_:2},1032,["onClick"])])})),128))]),(0,u.bF)(d,{class:"gender-selection"},{default:(0,u.k6)((function(){return[(0,u.bF)(g,{modelValue:r.form.gender,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.form.gender=e})},{default:(0,u.k6)((function(){return[(0,u.bF)(f,{label:"random"},{default:(0,u.k6)((function(){return t[6]||(t[6]=[(0,u.eW)("随机")])})),_:1}),(0,u.bF)(f,{label:"male"},{default:(0,u.k6)((function(){return t[7]||(t[7]=[(0,u.eW)("男")])})),_:1}),(0,u.bF)(f,{label:"female"},{default:(0,u.k6)((function(){return t[8]||(t[8]=[(0,u.eW)("女")])})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),t[10]||(t[10]=(0,u.Lk)("div",{class:"order-tip"}," 下单后系统自动发送卡密到该邮箱 ",-1)),(0,u.bF)(s,{type:"primary",class:"submit-button",onClick:r.submitOrder},{default:(0,u.k6)((function(){return t[9]||(t[9]=[(0,u.eW)(" 立即下单 ")])})),_:1},8,["onClick"])]})),_:1},8,["onSubmit"])])])}n(2008),n(50113),n(44114),n(72712),n(60739),n(33110),n(54520),n(72577),n(8872);var y=n(90144),h=n(51219);const _={name:"Shop",setup:function(){var e=(0,f.rd)(),t=(0,y.KR)({productType:"",product:"",region:"",gender:"random"}),n=(0,y.KR)([0,0,0]),r=[{value:"game",label:"游戏账号"},{value:"video",label:"视频会员"},{value:"music",label:"音乐会员"}],a=(0,y.KR)([{id:1,name:"Steam账号",type:"game",price:99},{id:2,name:"Netflix会员",type:"video",price:29},{id:3,name:"Spotify会员",type:"music",price:19}]),l=[{value:"cn",label:"中国大陆"},{value:"hk",label:"香港"},{value:"tw",label:"台湾"}],o=(0,u.EW)((function(){return t.value.productType?a.value.filter((function(e){return e.type===t.value.productType})):[]})),i=function(e){n.value[e]++},c=function(e){n.value[e]>0&&n.value[e]--},d=function(){var r=a.value.find((function(e){return e.id===t.value.product}));if(r){var l=n.value.reduce((function(e,t){return e+t}),0);if(0!==l){var u={productId:r.id,productName:r.name,quantity:l,price:r.price,total:r.price*l,region:t.value.region,gender:t.value.gender};e.push({name:"payment",params:{order:JSON.stringify(u)}})}else h.nk.warning("请选择购买数量")}else h.nk.warning("请选择商品")};return{form:t,quantities:n,productTypes:r,products:a,regions:l,filteredProducts:o,increaseQuantity:i,decreaseQuantity:c,submitOrder:d}}},F=(0,i.A)(_,[["render",g],["__scopeId","data-v-3fa624d7"]]),w=F;var L={class:"payment-container"},C={class:"payment-box"},V={class:"order-info"},W={class:"info-item"},P={class:"value"},O={class:"info-item"},S={class:"value"},A={class:"info-item"},X={class:"value"},x={class:"info-item"},K={class:"value price"},T={class:"payment-method"},E={class:"wallet-options"},q=["onClick"],I=["src","alt"],R={key:0,class:"payment-qr"},U={class:"wallet-address"},j={class:"address-box"};function N(e,t,n,r,a,l){var o=(0,u.g2)("el-button");return(0,u.uX)(),(0,u.CE)("div",L,[(0,u.Lk)("div",C,[(0,u.Lk)("div",V,[t[4]||(t[4]=(0,u.Lk)("h2",null,"订单信息",-1)),(0,u.Lk)("div",W,[t[0]||(t[0]=(0,u.Lk)("span",{class:"label"},"订单编号:",-1)),(0,u.Lk)("span",P,(0,p.v_)(r.orderId),1)]),(0,u.Lk)("div",O,[t[1]||(t[1]=(0,u.Lk)("span",{class:"label"},"商品名称:",-1)),(0,u.Lk)("span",S,(0,p.v_)(r.order.productName),1)]),(0,u.Lk)("div",A,[t[2]||(t[2]=(0,u.Lk)("span",{class:"label"},"购买数量:",-1)),(0,u.Lk)("span",X,(0,p.v_)(r.order.quantity),1)]),(0,u.Lk)("div",x,[t[3]||(t[3]=(0,u.Lk)("span",{class:"label"},"支付金额:",-1)),(0,u.Lk)("span",K,"¥"+(0,p.v_)(r.order.total),1)])]),(0,u.Lk)("div",T,[t[5]||(t[5]=(0,u.Lk)("h3",null,"选择支付方式",-1)),(0,u.Lk)("div",E,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(r.wallets,(function(e){return(0,u.uX)(),(0,u.CE)("div",{key:e.id,class:(0,p.C4)(["wallet-item",{active:r.selectedWallet===e.id}]),onClick:function(t){return r.selectWallet(e.id)}},[(0,u.Lk)("img",{src:e.icon,alt:e.name},null,8,I),(0,u.Lk)("span",null,(0,p.v_)(e.name),1)],10,q)})),128))])]),r.selectedWallet?((0,u.uX)(),(0,u.CE)("div",R,[t[8]||(t[8]=(0,u.Lk)("div",{class:"qr-code"},[(0,u.Lk)("img",{src:"/qr-code.png",alt:"支付二维码"})],-1)),(0,u.Lk)("div",U,[t[7]||(t[7]=(0,u.Lk)("p",null,"钱包地址：",-1)),(0,u.Lk)("div",j,[(0,u.Lk)("span",null,(0,p.v_)(r.walletAddress),1),(0,u.bF)(o,{type:"primary",size:"small",onClick:r.copyAddress},{default:(0,u.k6)((function(){return t[6]||(t[6]=[(0,u.eW)(" 复制 ")])})),_:1},8,["onClick"])])])])):(0,u.Q3)("",!0),t[9]||(t[9]=(0,u.Lk)("div",{class:"payment-tips"},[(0,u.Lk)("p",null,"支付完成后请等待系统自动确认"),(0,u.Lk)("p",null,"如有问题请联系客服")],-1))])])}n(76918),n(34782),n(59089),n(23288),n(79432),n(38781);const D={name:"Payment",setup:function(){var e=(0,f.lq)(),t=(0,y.KR)({}),n=(0,y.KR)(""),r=(0,y.KR)(""),a=(0,y.KR)("TRx1234567890abcdef1234567890abcdef12"),l=[{id:"imtoken",name:"imToken",icon:"/wallet-icons/imtoken.svg"},{id:"tokenpocket",name:"TokenPocket",icon:"/wallet-icons/tokenpocket.svg"},{id:"okx",name:"OKX",icon:"/wallet-icons/okx.svg"}];(0,u.sV)((function(){n.value="ORD"+Date.now().toString().slice(-8);try{var r=JSON.parse(e.params.order||"{}");t.value=r}catch(a){console.error("Failed to parse order data:",a),h.nk.error("订单数据错误")}}));var o=function(e){r.value=e},i=function(){navigator.clipboard.writeText(a.value).then((function(){h.nk.success("地址已复制")}))["catch"]((function(){h.nk.error("复制失败")}))};return{order:t,orderId:n,wallets:l,selectedWallet:r,walletAddress:a,selectWallet:o,copyAddress:i}}},z=(0,i.A)(D,[["render",N],["__scopeId","data-v-0140fb3e"]]),Q=z;var M={class:"login-container"},$={class:"login-box"};function B(e,t,n,r,l,o){var i=(0,u.g2)("el-input"),c=(0,u.g2)("el-form-item"),d=(0,u.g2)("el-button"),s=(0,u.g2)("el-form");return(0,u.uX)(),(0,u.CE)("div",M,[(0,u.Lk)("div",$,[t[3]||(t[3]=(0,u.Lk)("h2",null,"管理员登录",-1)),(0,u.bF)(s,{ref:"loginForm",model:r.loginForm,rules:r.loginRules,onSubmit:(0,a.D$)(r.handleLogin,["prevent"])},{default:(0,u.k6)((function(){return[(0,u.bF)(c,{prop:"username"},{default:(0,u.k6)((function(){return[(0,u.bF)(i,{modelValue:r.loginForm.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.loginForm.username=e}),placeholder:"用户名","prefix-icon":"User"},null,8,["modelValue"])]})),_:1}),(0,u.bF)(c,{prop:"password"},{default:(0,u.k6)((function(){return[(0,u.bF)(i,{modelValue:r.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.loginForm.password=e}),type:"password",placeholder:"密码","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]})),_:1}),(0,u.bF)(c,null,{default:(0,u.k6)((function(){return[(0,u.bF)(d,{type:"primary",style:{width:"100%"},onClick:r.handleLogin},{default:(0,u.k6)((function(){return t[2]||(t[2]=[(0,u.eW)(" 登录 ")])})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","rules","onSubmit"])])])}var J=n(57477);const G={name:"AdminLogin",components:{User:J.User,Lock:J.Lock},setup:function(){var e=(0,f.rd)(),t=(0,y.Kh)({username:"",password:""}),n={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},r=function(){"admin"===t.username&&"admin123"===t.password?(localStorage.setItem("adminToken","demo-token"),e.push("/admin/products"),h.nk.success("登录成功")):h.nk.error("用户名或密码错误")};return{loginForm:t,loginRules:n,handleLogin:r}}},H=(0,i.A)(G,[["render",B],["__scopeId","data-v-06518cd6"]]),Y=H;var Z={class:"admin-products"},ee={class:"header"},te={class:"dialog-footer"};function ne(e,t,n,r,a,l){var o=(0,u.g2)("el-button"),i=(0,u.g2)("el-table-column"),c=(0,u.g2)("el-tag"),d=(0,u.g2)("el-table"),s=(0,u.g2)("el-input"),f=(0,u.g2)("el-form-item"),m=(0,u.g2)("el-option"),v=(0,u.g2)("el-select"),k=(0,u.g2)("el-input-number"),b=(0,u.g2)("el-form"),g=(0,u.g2)("el-dialog");return(0,u.uX)(),(0,u.CE)("div",Z,[(0,u.Lk)("div",ee,[t[7]||(t[7]=(0,u.Lk)("h2",null,"商品管理",-1)),(0,u.bF)(o,{type:"primary",onClick:r.showAddDialog},{default:(0,u.k6)((function(){return t[6]||(t[6]=[(0,u.eW)("添加商品")])})),_:1},8,["onClick"])]),(0,u.bF)(d,{data:r.products,style:{width:"100%"}},{default:(0,u.k6)((function(){return[(0,u.bF)(i,{prop:"name",label:"商品名称"}),(0,u.bF)(i,{prop:"category",label:"分类"},{default:(0,u.k6)((function(e){var t=e.row;return[(0,u.eW)((0,p.v_)(r.getCategoryName(t.category)),1)]})),_:1}),(0,u.bF)(i,{prop:"price",label:"价格",width:"100"},{default:(0,u.k6)((function(e){var t=e.row;return[(0,u.eW)(" ¥"+(0,p.v_)(t.price),1)]})),_:1}),(0,u.bF)(i,{prop:"stock",label:"库存",width:"100"}),(0,u.bF)(i,{prop:"status",label:"状态",width:"100"},{default:(0,u.k6)((function(e){var t=e.row;return[(0,u.bF)(c,{type:"active"===t.status?"success":"info"},{default:(0,u.k6)((function(){return[(0,u.eW)((0,p.v_)("active"===t.status?"上架":"下架"),1)]})),_:2},1032,["type"])]})),_:1}),(0,u.bF)(i,{label:"操作",width:"200"},{default:(0,u.k6)((function(e){var n=e.row;return[(0,u.bF)(o,{size:"small",type:"active"===n.status?"warning":"success",onClick:function(e){return r.toggleStatus(n)}},{default:(0,u.k6)((function(){return[(0,u.eW)((0,p.v_)("active"===n.status?"下架":"上架"),1)]})),_:2},1032,["type","onClick"]),(0,u.bF)(o,{size:"small",type:"primary",onClick:function(e){return r.editProduct(n)}},{default:(0,u.k6)((function(){return t[8]||(t[8]=[(0,u.eW)(" 编辑 ")])})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),(0,u.bF)(g,{title:"add"===r.dialogType?"添加商品":"编辑商品",modelValue:r.dialogVisible,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.dialogVisible=e}),width:"500px"},{footer:(0,u.k6)((function(){return[(0,u.Lk)("span",te,[(0,u.bF)(o,{onClick:t[4]||(t[4]=function(e){return r.dialogVisible=!1})},{default:(0,u.k6)((function(){return t[9]||(t[9]=[(0,u.eW)("取消")])})),_:1}),(0,u.bF)(o,{type:"primary",onClick:r.saveProduct},{default:(0,u.k6)((function(){return t[10]||(t[10]=[(0,u.eW)("确定")])})),_:1},8,["onClick"])])]})),default:(0,u.k6)((function(){return[(0,u.bF)(b,{model:r.currentProduct,"label-width":"100px"},{default:(0,u.k6)((function(){return[(0,u.bF)(f,{label:"商品名称"},{default:(0,u.k6)((function(){return[(0,u.bF)(s,{modelValue:r.currentProduct.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.currentProduct.name=e})},null,8,["modelValue"])]})),_:1}),(0,u.bF)(f,{label:"分类"},{default:(0,u.k6)((function(){return[(0,u.bF)(v,{modelValue:r.currentProduct.category,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.currentProduct.category=e}),style:{width:"100%"}},{default:(0,u.k6)((function(){return[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(r.categories,(function(e){return(0,u.uX)(),(0,u.Wv)(m,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),(0,u.bF)(f,{label:"价格"},{default:(0,u.k6)((function(){return[(0,u.bF)(k,{modelValue:r.currentProduct.price,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.currentProduct.price=e}),min:0},null,8,["modelValue"])]})),_:1}),(0,u.bF)(f,{label:"库存"},{default:(0,u.k6)((function(){return[(0,u.bF)(k,{modelValue:r.currentProduct.stock,"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.currentProduct.stock=e}),min:0},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["title","modelValue"])])}var re=n(41034);n(48980);const ae={name:"AdminProducts",setup:function(){var e=(0,y.KR)([{id:1,name:"Steam账号",category:"game",price:99,stock:10,status:"active"},{id:2,name:"Netflix会员",category:"video",price:29,stock:20,status:"active"},{id:3,name:"Spotify会员",category:"music",price:19,stock:15,status:"active"}]),t=[{id:"game",name:"游戏账号"},{id:"video",name:"视频会员"},{id:"music",name:"音乐会员"},{id:"other",name:"其他账号"}],n=(0,y.KR)(!1),r=(0,y.KR)("add"),a=(0,y.Kh)({id:null,name:"",category:"",price:0,stock:0,status:"active"}),l=function(e){var n=t.find((function(t){return t.id===e}));return n?n.name:e},u=function(){r.value="add",Object.assign(a,{id:null,name:"",category:"",price:0,stock:0,status:"active"}),n.value=!0},o=function(e){r.value="edit",Object.assign(a,e),n.value=!0},i=function(){if("add"===r.value){var t=(0,re.A)((0,re.A)({},a),{},{id:e.value.length+1});e.value.push(t)}else{var l=e.value.findIndex((function(e){return e.id===a.id}));-1!==l&&(e.value[l]=(0,re.A)({},a))}n.value=!1,h.nk.success("".concat("add"===r.value?"添加":"编辑","商品成功"))},c=function(e){e.status="active"===e.status?"inactive":"active",h.nk.success("商品已".concat("active"===e.status?"上架":"下架"))};return{products:e,categories:t,dialogVisible:n,dialogType:r,currentProduct:a,getCategoryName:l,showAddDialog:u,editProduct:o,saveProduct:i,toggleStatus:c}}},le=(0,i.A)(ae,[["render",ne],["__scopeId","data-v-1d96aa99"]]),ue=le;var oe=[{path:"/",name:"shop",component:w},{path:"/payment",name:"payment",component:Q},{path:"/admin/login",name:"admin-login",component:Y},{path:"/admin/products",name:"admin-products",component:ue,meta:{requiresAuth:!0}}],ie=(0,f.aE)({history:(0,f.Bt)("./"),routes:oe,scrollBehavior:function(e,t,n){return n||{top:0}}});ie.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresAuth}))){var r=localStorage.getItem("adminToken");r?n():n({path:"/admin/login",query:{redirect:e.fullPath}})}else n()}));const ce=ie;for(var de=(0,a.Ef)(s),se=0,fe=Object.entries(J);se<fe.length;se++){var pe=(0,r.A)(fe[se],2),me=pe[0],ve=pe[1];de.component(me,ve)}de.use(l.A),de.use(ce),de.mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var l=t[r]={exports:{}};return e[r].call(l.exports,l,l.exports,n),l.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,l)=>{if(!r){var u=1/0;for(d=0;d<e.length;d++){for(var[r,a,l]=e[d],o=!0,i=0;i<r.length;i++)(!1&l||u>=l)&&Object.keys(n.O).every((e=>n.O[e](r[i])))?r.splice(i--,1):(o=!1,l<u&&(u=l));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[r,a,l]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,l,[u,o,i]=r,c=0;if(u.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(i)var d=i(n)}for(t&&t(r);c<u.length;c++)l=u[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(d)},r=self["webpackChunkaccount_shop"]=self["webpackChunkaccount_shop"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[504],(()=>n(49072)));r=n.O(r)})();
//# sourceMappingURL=app.e3a18f26.js.map