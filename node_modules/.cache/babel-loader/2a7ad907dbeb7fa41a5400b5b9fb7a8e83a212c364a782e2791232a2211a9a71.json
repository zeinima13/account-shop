{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, createElementVNode as _createElementVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"shop-container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"product-info\"\n};\nvar _hoisted_3 = {\n  \"class\": \"price\"\n};\nvar _hoisted_4 = {\n  \"class\": \"stock\"\n};\nvar _hoisted_5 = {\n  \"class\": \"purchase-form\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  var _component_el_menu = _resolveComponent(\"el-menu\");\n  var _component_el_aside = _resolveComponent(\"el-aside\");\n  var _component_el_input_number = _resolveComponent(\"el-input-number\");\n  var _component_el_form_item = _resolveComponent(\"el-form-item\");\n  var _component_el_input = _resolveComponent(\"el-input\");\n  var _component_el_button = _resolveComponent(\"el-button\");\n  var _component_el_form = _resolveComponent(\"el-form\");\n  var _component_el_card = _resolveComponent(\"el-card\");\n  var _component_el_col = _resolveComponent(\"el-col\");\n  var _component_el_row = _resolveComponent(\"el-row\");\n  var _component_el_main = _resolveComponent(\"el-main\");\n  var _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_container, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_el_aside, {\n        width: \"200px\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_menu, {\n            \"default-active\": $setup.activeCategory,\n            onSelect: $setup.handleCategorySelect\n          }, {\n            \"default\": _withCtx(function () {\n              return [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, function (cat) {\n                return _openBlock(), _createBlock(_component_el_menu_item, {\n                  key: cat.id,\n                  index: cat.id\n                }, {\n                  \"default\": _withCtx(function () {\n                    return [_createTextVNode(_toDisplayString(cat.name), 1)];\n                  }),\n                  _: 2\n                }, 1032, [\"index\"]);\n              }), 128))];\n            }),\n            _: 1\n          }, 8, [\"default-active\", \"onSelect\"])];\n        }),\n        _: 1\n      }), _createVNode(_component_el_main, null, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_el_row, {\n            gutter: 20\n          }, {\n            \"default\": _withCtx(function () {\n              return [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.products, function (product) {\n                return _openBlock(), _createBlock(_component_el_col, {\n                  span: 24,\n                  key: product.id\n                }, {\n                  \"default\": _withCtx(function () {\n                    return [_createVNode(_component_el_card, {\n                      \"class\": \"product-card\"\n                    }, {\n                      \"default\": _withCtx(function () {\n                        return [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h3\", null, _toDisplayString(product.name), 1), _createElementVNode(\"div\", _hoisted_3, \"¥\" + _toDisplayString(product.price), 1), _createElementVNode(\"div\", _hoisted_4, \"库存: \" + _toDisplayString(product.stock), 1)]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_form, {\n                          model: $setup.orderForm,\n                          \"label-width\": \"80px\"\n                        }, {\n                          \"default\": _withCtx(function () {\n                            return [_createVNode(_component_el_form_item, {\n                              label: \"数量\"\n                            }, {\n                              \"default\": _withCtx(function () {\n                                return [_createVNode(_component_el_input_number, {\n                                  modelValue: $setup.orderForm[product.id],\n                                  \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n                                    return $setup.orderForm[product.id] = $event;\n                                  },\n                                  min: 1,\n                                  max: product.stock\n                                }, null, 8, [\"modelValue\", \"onUpdate:modelValue\", \"max\"])];\n                              }),\n                              _: 2\n                            }, 1024), _createVNode(_component_el_form_item, {\n                              label: \"邮箱\"\n                            }, {\n                              \"default\": _withCtx(function () {\n                                return [_createVNode(_component_el_input, {\n                                  modelValue: $setup.email,\n                                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n                                    return $setup.email = $event;\n                                  }),\n                                  placeholder: \"请输入邮箱\"\n                                }, null, 8, [\"modelValue\"])];\n                              }),\n                              _: 1\n                            }), _createVNode(_component_el_button, {\n                              type: \"primary\",\n                              onClick: function onClick($event) {\n                                return $setup.submitOrder(product);\n                              }\n                            }, {\n                              \"default\": _withCtx(function () {\n                                return _cache[1] || (_cache[1] = [_createTextVNode(\"立即下单\")]);\n                              }),\n                              _: 2\n                            }, 1032, [\"onClick\"])];\n                          }),\n                          _: 2\n                        }, 1032, [\"model\"])])];\n                      }),\n                      _: 2\n                    }, 1024)];\n                  }),\n                  _: 2\n                }, 1024);\n              }), 128))];\n            }),\n            _: 1\n          })];\n        }),\n        _: 1\n      })];\n    }),\n    _: 1\n  })]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createVNode","_component_el_container","_withCtx","_component_el_aside","width","_component_el_menu","$setup","activeCategory","onSelect","handleCategorySelect","_Fragment","_renderList","categories","cat","_createBlock","_component_el_menu_item","key","id","index","_createTextVNode","_toDisplayString","name","_","_component_el_main","_component_el_row","gutter","products","product","_component_el_col","span","_component_el_card","_createElementVNode","_hoisted_2","_hoisted_3","price","_hoisted_4","stock","_hoisted_5","_component_el_form","model","orderForm","_component_el_form_item","label","_component_el_input_number","modelValue","onUpdateModelValue","$event","min","max","_component_el_input","email","_cache","placeholder","_component_el_button","type","onClick","submitOrder"],"sources":["C:\\Users\\ASUS\\CascadeProjects\\account-shop\\src\\views\\Shop.vue"],"sourcesContent":["<template>\n  <div class=\"shop-container\">\n    <el-container>\n      <el-aside width=\"200px\">\n        <el-menu\n          :default-active=\"activeCategory\"\n          @select=\"handleCategorySelect\"\n        >\n          <el-menu-item v-for=\"cat in categories\" :key=\"cat.id\" :index=\"cat.id\">\n            {{ cat.name }}\n          </el-menu-item>\n        </el-menu>\n      </el-aside>\n      \n      <el-main>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\" v-for=\"product in products\" :key=\"product.id\">\n            <el-card class=\"product-card\">\n              <div class=\"product-info\">\n                <h3>{{ product.name }}</h3>\n                <div class=\"price\">¥{{ product.price }}</div>\n                <div class=\"stock\">库存: {{ product.stock }}</div>\n              </div>\n              <div class=\"purchase-form\">\n                <el-form :model=\"orderForm\" label-width=\"80px\">\n                  <el-form-item label=\"数量\">\n                    <el-input-number \n                      v-model=\"orderForm[product.id]\" \n                      :min=\"1\" \n                      :max=\"product.stock\"\n                    />\n                  </el-form-item>\n                  <el-form-item label=\"邮箱\">\n                    <el-input v-model=\"email\" placeholder=\"请输入邮箱\"/>\n                  </el-form-item>\n                  <el-button type=\"primary\" @click=\"submitOrder(product)\">立即下单</el-button>\n                </el-form>\n              </div>\n            </el-card>\n          </el-col>\n        </el-row>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default {\n  name: 'Shop',\n  setup() {\n    const router = useRouter()\n    const activeCategory = ref('1')\n    const email = ref('')\n    const orderForm = reactive({})\n\n    const categories = [\n      { id: '1', name: '微博产品' },\n      { id: '2', name: '微博白号' },\n      { id: '3', name: '微博号' }\n    ]\n\n    const products = ref([\n      { \n        id: 1, \n        categoryId: '1',\n        name: '微博-信用分510以上---6-9级老号', \n        price: 99,\n        stock: 100\n      },\n      {\n        id: 2,\n        categoryId: '1',\n        name: '微博0-20级',\n        price: 49,\n        stock: 200\n      }\n    ])\n\n    const handleCategorySelect = (index) => {\n      activeCategory.value = index\n      // 这里应该调用API获取该分类下的商品\n    }\n\n    const submitOrder = (product) => {\n      if (!email.value) {\n        ElMessage.error('请输入邮箱')\n        return\n      }\n      \n      const quantity = orderForm[product.id]\n      if (!quantity) {\n        ElMessage.error('请选择购买数量')\n        return\n      }\n\n      // 跳转到支付页面\n      router.push({\n        name: 'payment',\n        query: {\n          productId: product.id,\n          quantity,\n          email: email.value\n        }\n      })\n    }\n\n    return {\n      activeCategory,\n      categories,\n      products,\n      email,\n      orderForm,\n      handleCategorySelect,\n      submitOrder\n    }\n  }\n}\n</script>\n\n<style scoped>\n.shop-container {\n  height: 100vh;\n}\n\n.product-card {\n  margin-bottom: 20px;\n}\n\n.product-info {\n  margin-bottom: 20px;\n}\n\n.price {\n  color: #f56c6c;\n  font-size: 20px;\n  margin: 10px 0;\n}\n\n.stock {\n  color: #909399;\n}\n\n.purchase-form {\n  max-width: 400px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}