{"ast":null,"code":"import \"core-js/modules/web.timers.js\";\nimport { isFunction } from '@vue/shared';\nvar REPEAT_INTERVAL = 100;\nvar REPEAT_DELAY = 600;\nvar vRepeatClick = {\n  beforeMount: function beforeMount(el, binding) {\n    var value = binding.value;\n    var _ref = isFunction(value) ? {} : value,\n      _ref$interval = _ref.interval,\n      interval = _ref$interval === void 0 ? REPEAT_INTERVAL : _ref$interval,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? REPEAT_DELAY : _ref$delay;\n    var intervalId;\n    var delayId;\n    var handler = function handler() {\n      return isFunction(value) ? value() : value.handler();\n    };\n    var clear = function clear() {\n      if (delayId) {\n        clearTimeout(delayId);\n        delayId = void 0;\n      }\n      if (intervalId) {\n        clearInterval(intervalId);\n        intervalId = void 0;\n      }\n    };\n    el.addEventListener(\"mousedown\", function (evt) {\n      if (evt.button !== 0) return;\n      clear();\n      handler();\n      document.addEventListener(\"mouseup\", function () {\n        return clear();\n      }, {\n        once: true\n      });\n      delayId = setTimeout(function () {\n        intervalId = setInterval(function () {\n          handler();\n        }, interval);\n      }, delay);\n    });\n  }\n};\nexport { REPEAT_DELAY, REPEAT_INTERVAL, vRepeatClick };","map":{"version":3,"names":["REPEAT_INTERVAL","REPEAT_DELAY","vRepeatClick","beforeMount","el","binding","value","_ref","isFunction","_ref$interval","interval","_ref$delay","delay","intervalId","delayId","handler","clear","clearTimeout","clearInterval","addEventListener","evt","button","document","once","setTimeout","setInterval"],"sources":["../../../../../packages/directives/repeat-click/index.ts"],"sourcesContent":["import { isFunction } from '@element-plus/utils'\n\nimport type { ObjectDirective } from 'vue'\n\nexport const REPEAT_INTERVAL = 100\nexport const REPEAT_DELAY = 600\n\nexport interface RepeatClickOptions {\n  interval?: number\n  delay?: number\n  handler: (...args: unknown[]) => unknown\n}\n\nexport const vRepeatClick: ObjectDirective<\n  HTMLElement,\n  RepeatClickOptions | RepeatClickOptions['handler']\n> = {\n  beforeMount(el, binding) {\n    const value = binding.value\n    const { interval = REPEAT_INTERVAL, delay = REPEAT_DELAY } = isFunction(\n      value\n    )\n      ? {}\n      : value\n\n    let intervalId: ReturnType<typeof setInterval> | undefined\n    let delayId: ReturnType<typeof setTimeout> | undefined\n\n    const handler = () => (isFunction(value) ? value() : value.handler())\n\n    const clear = () => {\n      if (delayId) {\n        clearTimeout(delayId)\n        delayId = undefined\n      }\n      if (intervalId) {\n        clearInterval(intervalId)\n        intervalId = undefined\n      }\n    }\n\n    el.addEventListener('mousedown', (evt: MouseEvent) => {\n      if (evt.button !== 0) return\n      clear()\n      handler()\n\n      document.addEventListener('mouseup', () => clear(), {\n        once: true,\n      })\n\n      delayId = setTimeout(() => {\n        intervalId = setInterval(() => {\n          handler()\n        }, interval)\n      }, delay)\n    })\n  },\n}\n"],"mappings":";;AACY,IAACA,eAAe,GAAG;AACnB,IAACC,YAAY,GAAG;AAChB,IAACC,YAAY,GAAG;EAC1BC,WAAW,WAAXA,WAAWA,CAACC,EAAE,EAAEC,OAAO,EAAE;IACvB,IAAMC,KAAK,GAAGD,OAAO,CAACC,KAAK;IAC3B,IAAAC,IAAA,GAA6DC,UAAU,CAACF,KAAK,CAAC,GAAG,EAAE,GAAGA,KAAK;MAAAG,aAAA,GAAAF,IAAA,CAAnFG,QAAQ;MAARA,QAAQ,GAAAD,aAAA,cAAGT,eAAe,GAAAS,aAAA;MAAAE,UAAA,GAAAJ,IAAA,CAAEK,KAAK;MAALA,KAAK,GAAAD,UAAA,cAAGV,YAAY,GAAAU,UAAA;IACxD,IAAIE,UAAU;IACd,IAAIC,OAAO;IACX,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAA;MAAA,OAASP,UAAU,CAACF,KAAK,CAAC,GAAGA,KAAK,EAAE,GAAGA,KAAK,CAACS,OAAO,EAAE;IAAA;IACnE,IAAMC,KAAK,GAAG,SAARA,KAAKA,CAAA,EAAS;MAClB,IAAIF,OAAO,EAAE;QACXG,YAAY,CAACH,OAAO,CAAC;QACrBA,OAAO,GAAG,KAAK,CAAC;MACxB;MACM,IAAID,UAAU,EAAE;QACdK,aAAa,CAACL,UAAU,CAAC;QACzBA,UAAU,GAAG,KAAK,CAAC;MAC3B;IACA,CAAK;IACDT,EAAE,CAACe,gBAAgB,CAAC,WAAW,EAAE,UAACC,GAAG,EAAK;MACxC,IAAIA,GAAG,CAACC,MAAM,KAAK,CAAC,EAClB;MACFL,KAAK,EAAE;MACPD,OAAO,EAAE;MACTO,QAAQ,CAACH,gBAAgB,CAAC,SAAS,EAAE;QAAA,OAAMH,KAAK,EAAE;MAAA,GAAE;QAClDO,IAAI,EAAE;MACd,CAAO,CAAC;MACFT,OAAO,GAAGU,UAAU,CAAC,YAAM;QACzBX,UAAU,GAAGY,WAAW,CAAC,YAAM;UAC7BV,OAAO,EAAE;QACnB,CAAS,EAAEL,QAAQ,CAAC;MACpB,CAAO,EAAEE,KAAK,CAAC;IACf,CAAK,CAAC;EACN;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}