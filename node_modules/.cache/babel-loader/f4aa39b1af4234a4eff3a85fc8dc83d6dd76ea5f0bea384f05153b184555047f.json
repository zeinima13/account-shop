{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createVNode as _createVNode, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"shop-container\"\n};\nconst _hoisted_2 = {\n  class: \"product-info\"\n};\nconst _hoisted_3 = {\n  class: \"price\"\n};\nconst _hoisted_4 = {\n  class: \"stock\"\n};\nconst _hoisted_5 = {\n  class: \"purchase-form\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_el_aside = _resolveComponent(\"el-aside\");\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_container, null, {\n    default: _withCtx(() => [_createVNode(_component_el_aside, {\n      width: \"200px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_menu, {\n        \"default-active\": $setup.activeCategory,\n        onSelect: $setup.handleCategorySelect\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, cat => {\n          return _openBlock(), _createBlock(_component_el_menu_item, {\n            key: cat.id,\n            index: cat.id\n          }, {\n            default: _withCtx(() => [_createTextVNode(_toDisplayString(cat.name), 1 /* TEXT */)]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"default-active\", \"onSelect\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_main, null, {\n      default: _withCtx(() => [_createVNode(_component_el_row, {\n        gutter: 20\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.products, product => {\n          return _openBlock(), _createBlock(_component_el_col, {\n            span: 24,\n            key: product.id\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_card, {\n              class: \"product-card\"\n            }, {\n              default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h3\", null, _toDisplayString(product.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, \"¥\" + _toDisplayString(product.price), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, \"库存: \" + _toDisplayString(product.stock), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_el_form, {\n                model: $setup.orderForm,\n                \"label-width\": \"80px\"\n              }, {\n                default: _withCtx(() => [_createVNode(_component_el_form_item, {\n                  label: \"数量\"\n                }, {\n                  default: _withCtx(() => [_createVNode(_component_el_input_number, {\n                    modelValue: $setup.orderForm[product.id],\n                    \"onUpdate:modelValue\": $event => $setup.orderForm[product.id] = $event,\n                    min: 1,\n                    max: product.stock\n                  }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"max\"])]),\n                  _: 2 /* DYNAMIC */\n                }, 1024 /* DYNAMIC_SLOTS */), _createVNode(_component_el_form_item, {\n                  label: \"邮箱\"\n                }, {\n                  default: _withCtx(() => [_createVNode(_component_el_input, {\n                    modelValue: $setup.email,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.email = $event),\n                    placeholder: \"请输入邮箱\"\n                  }, null, 8 /* PROPS */, [\"modelValue\"])]),\n                  _: 1 /* STABLE */\n                }), _createVNode(_component_el_button, {\n                  type: \"primary\",\n                  onClick: $event => $setup.submitOrder(product)\n                }, {\n                  default: _withCtx(() => [...(_cache[1] || (_cache[1] = [_createTextVNode(\"立即下单\")]))]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"model\"])])]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */)]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_container","default","_withCtx","_component_el_aside","width","_component_el_menu","$setup","activeCategory","onSelect","handleCategorySelect","_Fragment","_renderList","categories","cat","_createBlock","_component_el_menu_item","key","id","index","_createTextVNode","_toDisplayString","name","_","_component_el_main","_component_el_row","gutter","products","product","_component_el_col","span","_component_el_card","_createElementVNode","_hoisted_2","_hoisted_3","price","_hoisted_4","stock","_hoisted_5","_component_el_form","model","orderForm","_component_el_form_item","label","_component_el_input_number","modelValue","$event","min","max","_component_el_input","email","_cache","placeholder","_component_el_button","type","onClick","submitOrder"],"sources":["C:\\Users\\ASUS\\CascadeProjects\\account-shop\\src\\views\\Shop.vue"],"sourcesContent":["<template>\n  <div class=\"shop-container\">\n    <el-container>\n      <el-aside width=\"200px\">\n        <el-menu\n          :default-active=\"activeCategory\"\n          @select=\"handleCategorySelect\"\n        >\n          <el-menu-item v-for=\"cat in categories\" :key=\"cat.id\" :index=\"cat.id\">\n            {{ cat.name }}\n          </el-menu-item>\n        </el-menu>\n      </el-aside>\n      \n      <el-main>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\" v-for=\"product in products\" :key=\"product.id\">\n            <el-card class=\"product-card\">\n              <div class=\"product-info\">\n                <h3>{{ product.name }}</h3>\n                <div class=\"price\">¥{{ product.price }}</div>\n                <div class=\"stock\">库存: {{ product.stock }}</div>\n              </div>\n              <div class=\"purchase-form\">\n                <el-form :model=\"orderForm\" label-width=\"80px\">\n                  <el-form-item label=\"数量\">\n                    <el-input-number \n                      v-model=\"orderForm[product.id]\" \n                      :min=\"1\" \n                      :max=\"product.stock\"\n                    />\n                  </el-form-item>\n                  <el-form-item label=\"邮箱\">\n                    <el-input v-model=\"email\" placeholder=\"请输入邮箱\"/>\n                  </el-form-item>\n                  <el-button type=\"primary\" @click=\"submitOrder(product)\">立即下单</el-button>\n                </el-form>\n              </div>\n            </el-card>\n          </el-col>\n        </el-row>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default {\n  name: 'Shop',\n  setup() {\n    const router = useRouter()\n    const activeCategory = ref('1')\n    const email = ref('')\n    const orderForm = reactive({})\n\n    const categories = [\n      { id: '1', name: '微博产品' },\n      { id: '2', name: '微博白号' },\n      { id: '3', name: '微博号' }\n    ]\n\n    const products = ref([\n      { \n        id: 1, \n        categoryId: '1',\n        name: '微博-信用分510以上---6-9级老号', \n        price: 99,\n        stock: 100\n      },\n      {\n        id: 2,\n        categoryId: '1',\n        name: '微博0-20级',\n        price: 49,\n        stock: 200\n      }\n    ])\n\n    const handleCategorySelect = (index) => {\n      activeCategory.value = index\n      // 这里应该调用API获取该分类下的商品\n    }\n\n    const submitOrder = (product) => {\n      if (!email.value) {\n        ElMessage.error('请输入邮箱')\n        return\n      }\n      \n      const quantity = orderForm[product.id]\n      if (!quantity) {\n        ElMessage.error('请选择购买数量')\n        return\n      }\n\n      // 跳转到支付页面\n      router.push({\n        name: 'payment',\n        query: {\n          productId: product.id,\n          quantity,\n          email: email.value\n        }\n      })\n    }\n\n    return {\n      activeCategory,\n      categories,\n      products,\n      email,\n      orderForm,\n      handleCategorySelect,\n      submitOrder\n    }\n  }\n}\n</script>\n\n<style scoped>\n.shop-container {\n  height: 100vh;\n}\n\n.product-card {\n  margin-bottom: 20px;\n}\n\n.product-info {\n  margin-bottom: 20px;\n}\n\n.price {\n  color: #f56c6c;\n  font-size: 20px;\n  margin: 10px 0;\n}\n\n.stock {\n  color: #909399;\n}\n\n.purchase-form {\n  max-width: 400px;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;EAiBVA,KAAK,EAAC;AAAc;;EAElBA,KAAK,EAAC;AAAO;;EACbA,KAAK,EAAC;AAAO;;EAEfA,KAAK,EAAC;AAAe;;;;;;;;;;;;;;;uBAtBtCC,mBAAA,CA0CM,OA1CNC,UA0CM,GAzCJC,YAAA,CAwCeC,uBAAA;IA1CnBC,OAAA,EAAAC,QAAA,CAGM,MASW,CATXH,YAAA,CASWI,mBAAA;MATDC,KAAK,EAAC;IAAO;MAH7BH,OAAA,EAAAC,QAAA,CAIQ,MAOU,CAPVH,YAAA,CAOUM,kBAAA;QANP,gBAAc,EAAEC,MAAA,CAAAC,cAAc;QAC9BC,QAAM,EAAEF,MAAA,CAAAG;;QANnBR,OAAA,EAAAC,QAAA,CAQwB,MAAyB,E,kBAAvCL,mBAAA,CAEea,SAAA,QAVzBC,WAAA,CAQsCL,MAAA,CAAAM,UAAU,EAAjBC,GAAG;+BAAxBC,YAAA,CAEeC,uBAAA;YAF0BC,GAAG,EAAEH,GAAG,CAACI,EAAE;YAAGC,KAAK,EAAEL,GAAG,CAACI;;YAR5EhB,OAAA,EAAAC,QAAA,CASY,MAAc,CAT1BiB,gBAAA,CAAAC,gBAAA,CASeP,GAAG,CAACQ,IAAI,iB;YATvBC,CAAA;;;QAAAA,CAAA;;MAAAA,CAAA;QAcMvB,YAAA,CA2BUwB,kBAAA;MAzChBtB,OAAA,EAAAC,QAAA,CAeQ,MAyBS,CAzBTH,YAAA,CAyBSyB,iBAAA;QAzBAC,MAAM,EAAE;MAAE;QAf3BxB,OAAA,EAAAC,QAAA,CAgB6B,MAA2B,E,kBAA9CL,mBAAA,CAuBSa,SAAA,QAvCnBC,WAAA,CAgB+CL,MAAA,CAAAoB,QAAQ,EAAnBC,OAAO;+BAAjCb,YAAA,CAuBSc,iBAAA;YAvBAC,IAAI,EAAE,EAAE;YAA+Bb,GAAG,EAAEW,OAAO,CAACV;;YAhBvEhB,OAAA,EAAAC,QAAA,CAiBY,MAqBU,CArBVH,YAAA,CAqBU+B,kBAAA;cArBDlC,KAAK,EAAC;YAAc;cAjBzCK,OAAA,EAAAC,QAAA,CAkBc,MAIM,CAJN6B,mBAAA,CAIM,OAJNC,UAIM,GAHJD,mBAAA,CAA2B,YAAAX,gBAAA,CAApBO,OAAO,CAACN,IAAI,kBACnBU,mBAAA,CAA6C,OAA7CE,UAA6C,EAA1B,GAAC,GAAAb,gBAAA,CAAGO,OAAO,CAACO,KAAK,kBACpCH,mBAAA,CAAgD,OAAhDI,UAAgD,EAA7B,MAAI,GAAAf,gBAAA,CAAGO,OAAO,CAACS,KAAK,iB,GAEzCL,mBAAA,CAcM,OAdNM,UAcM,GAbJtC,YAAA,CAYUuC,kBAAA;gBAZAC,KAAK,EAAEjC,MAAA,CAAAkC,SAAS;gBAAE,aAAW,EAAC;;gBAxBxDvC,OAAA,EAAAC,QAAA,CAyBkB,MAMe,CANfH,YAAA,CAMe0C,uBAAA;kBANDC,KAAK,EAAC;gBAAI;kBAzB1CzC,OAAA,EAAAC,QAAA,CA0BoB,MAIE,CAJFH,YAAA,CAIE4C,0BAAA;oBA9BtBC,UAAA,EA2B+BtC,MAAA,CAAAkC,SAAS,CAACb,OAAO,CAACV,EAAE;oBA3BnD,uBAAA4B,MAAA,IA2B+BvC,MAAA,CAAAkC,SAAS,CAACb,OAAO,CAACV,EAAE,IAAA4B,MAAA;oBAC5BC,GAAG,EAAE,CAAC;oBACNC,GAAG,EAAEpB,OAAO,CAACS;;kBA7BpCd,CAAA;8CAgCkBvB,YAAA,CAEe0C,uBAAA;kBAFDC,KAAK,EAAC;gBAAI;kBAhC1CzC,OAAA,EAAAC,QAAA,CAiCoB,MAA+C,CAA/CH,YAAA,CAA+CiD,mBAAA;oBAjCnEJ,UAAA,EAiCuCtC,MAAA,CAAA2C,KAAK;oBAjC5C,uBAAAC,MAAA,QAAAA,MAAA,MAAAL,MAAA,IAiCuCvC,MAAA,CAAA2C,KAAK,GAAAJ,MAAA;oBAAEM,WAAW,EAAC;;kBAjC1D7B,CAAA;oBAmCkBvB,YAAA,CAAwEqD,oBAAA;kBAA7DC,IAAI,EAAC,SAAS;kBAAEC,OAAK,EAAAT,MAAA,IAAEvC,MAAA,CAAAiD,WAAW,CAAC5B,OAAO;;kBAnCvE1B,OAAA,EAAAC,QAAA,CAmC0E,MAAI,KAAAgD,MAAA,QAAAA,MAAA,OAnC9E/B,gBAAA,CAmC0E,MAAI,E;kBAnC9EG,CAAA;;gBAAAA,CAAA;;cAAAA,CAAA;;YAAAA,CAAA;;;QAAAA,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}