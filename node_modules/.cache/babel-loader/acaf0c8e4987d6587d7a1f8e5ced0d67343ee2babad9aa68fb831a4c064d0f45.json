{"ast":null,"code":"import _objectSpread from \"C:/Users/ASUS/CascadeProjects/account-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { ref, reactive } from 'vue';\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: 'AdminProducts',\n  setup: function setup() {\n    var products = ref([{\n      id: 1,\n      name: 'Steam账号',\n      category: 'game',\n      price: 99,\n      stock: 10,\n      status: 'active'\n    }, {\n      id: 2,\n      name: 'Netflix会员',\n      category: 'video',\n      price: 29,\n      stock: 20,\n      status: 'active'\n    }, {\n      id: 3,\n      name: 'Spotify会员',\n      category: 'music',\n      price: 19,\n      stock: 15,\n      status: 'active'\n    }]);\n    var categories = [{\n      id: 'game',\n      name: '游戏账号'\n    }, {\n      id: 'video',\n      name: '视频会员'\n    }, {\n      id: 'music',\n      name: '音乐会员'\n    }, {\n      id: 'other',\n      name: '其他账号'\n    }];\n    var dialogVisible = ref(false);\n    var dialogType = ref('add');\n    var currentProduct = reactive({\n      id: null,\n      name: '',\n      category: '',\n      price: 0,\n      stock: 0,\n      status: 'active'\n    });\n    var getCategoryName = function getCategoryName(categoryId) {\n      var category = categories.find(function (c) {\n        return c.id === categoryId;\n      });\n      return category ? category.name : categoryId;\n    };\n    var showAddDialog = function showAddDialog() {\n      dialogType.value = 'add';\n      Object.assign(currentProduct, {\n        id: null,\n        name: '',\n        category: '',\n        price: 0,\n        stock: 0,\n        status: 'active'\n      });\n      dialogVisible.value = true;\n    };\n    var editProduct = function editProduct(product) {\n      dialogType.value = 'edit';\n      Object.assign(currentProduct, product);\n      dialogVisible.value = true;\n    };\n    var saveProduct = function saveProduct() {\n      if (dialogType.value === 'add') {\n        var newProduct = _objectSpread(_objectSpread({}, currentProduct), {}, {\n          id: products.value.length + 1\n        });\n        products.value.push(newProduct);\n      } else {\n        var index = products.value.findIndex(function (p) {\n          return p.id === currentProduct.id;\n        });\n        if (index !== -1) {\n          products.value[index] = _objectSpread({}, currentProduct);\n        }\n      }\n      dialogVisible.value = false;\n      ElMessage.success(\"\".concat(dialogType.value === 'add' ? '添加' : '编辑', \"\\u5546\\u54C1\\u6210\\u529F\"));\n    };\n    var toggleStatus = function toggleStatus(product) {\n      product.status = product.status === 'active' ? 'inactive' : 'active';\n      ElMessage.success(\"\\u5546\\u54C1\\u5DF2\".concat(product.status === 'active' ? '上架' : '下架'));\n    };\n    return {\n      products: products,\n      categories: categories,\n      dialogVisible: dialogVisible,\n      dialogType: dialogType,\n      currentProduct: currentProduct,\n      getCategoryName: getCategoryName,\n      showAddDialog: showAddDialog,\n      editProduct: editProduct,\n      saveProduct: saveProduct,\n      toggleStatus: toggleStatus\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","ElMessage","name","setup","products","id","category","price","stock","status","categories","dialogVisible","dialogType","currentProduct","getCategoryName","categoryId","find","c","showAddDialog","value","Object","assign","editProduct","product","saveProduct","newProduct","_objectSpread","length","push","index","findIndex","p","success","concat","toggleStatus"],"sources":["C:\\Users\\ASUS\\CascadeProjects\\account-shop\\src\\views\\admin\\Products.vue"],"sourcesContent":["<template>\n  <div class=\"admin-products\">\n    <div class=\"header\">\n      <h2>商品管理</h2>\n      <el-button type=\"primary\" @click=\"showAddDialog\">添加商品</el-button>\n    </div>\n\n    <el-table :data=\"products\" style=\"width: 100%\">\n      <el-table-column prop=\"name\" label=\"商品名称\" />\n      <el-table-column prop=\"category\" label=\"分类\">\n        <template #default=\"{ row }\">\n          {{ getCategoryName(row.category) }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"price\" label=\"价格\" width=\"100\">\n        <template #default=\"{ row }\">\n          ¥{{ row.price }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"stock\" label=\"库存\" width=\"100\" />\n      <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n        <template #default=\"{ row }\">\n          <el-tag :type=\"row.status === 'active' ? 'success' : 'info'\">\n            {{ row.status === 'active' ? '上架' : '下架' }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"200\">\n        <template #default=\"{ row }\">\n          <el-button \n            size=\"small\" \n            :type=\"row.status === 'active' ? 'warning' : 'success'\"\n            @click=\"toggleStatus(row)\"\n          >\n            {{ row.status === 'active' ? '下架' : '上架' }}\n          </el-button>\n          <el-button \n            size=\"small\"\n            type=\"primary\"\n            @click=\"editProduct(row)\"\n          >\n            编辑\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 添加/编辑商品对话框 -->\n    <el-dialog\n      :title=\"dialogType === 'add' ? '添加商品' : '编辑商品'\"\n      v-model=\"dialogVisible\"\n      width=\"500px\"\n    >\n      <el-form :model=\"currentProduct\" label-width=\"100px\">\n        <el-form-item label=\"商品名称\">\n          <el-input v-model=\"currentProduct.name\" />\n        </el-form-item>\n        <el-form-item label=\"分类\">\n          <el-select v-model=\"currentProduct.category\" style=\"width: 100%\">\n            <el-option\n              v-for=\"category in categories\"\n              :key=\"category.id\"\n              :label=\"category.name\"\n              :value=\"category.id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"价格\">\n          <el-input-number v-model=\"currentProduct.price\" :min=\"0\" />\n        </el-form-item>\n        <el-form-item label=\"库存\">\n          <el-input-number v-model=\"currentProduct.stock\" :min=\"0\" />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"saveProduct\">确定</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'AdminProducts',\n  setup() {\n    const products = ref([\n      {\n        id: 1,\n        name: 'Steam账号',\n        category: 'game',\n        price: 99,\n        stock: 10,\n        status: 'active'\n      },\n      {\n        id: 2,\n        name: 'Netflix会员',\n        category: 'video',\n        price: 29,\n        stock: 20,\n        status: 'active'\n      },\n      {\n        id: 3,\n        name: 'Spotify会员',\n        category: 'music',\n        price: 19,\n        stock: 15,\n        status: 'active'\n      }\n    ])\n\n    const categories = [\n      { id: 'game', name: '游戏账号' },\n      { id: 'video', name: '视频会员' },\n      { id: 'music', name: '音乐会员' },\n      { id: 'other', name: '其他账号' }\n    ]\n\n    const dialogVisible = ref(false)\n    const dialogType = ref('add')\n    const currentProduct = reactive({\n      id: null,\n      name: '',\n      category: '',\n      price: 0,\n      stock: 0,\n      status: 'active'\n    })\n\n    const getCategoryName = (categoryId) => {\n      const category = categories.find(c => c.id === categoryId)\n      return category ? category.name : categoryId\n    }\n\n    const showAddDialog = () => {\n      dialogType.value = 'add'\n      Object.assign(currentProduct, {\n        id: null,\n        name: '',\n        category: '',\n        price: 0,\n        stock: 0,\n        status: 'active'\n      })\n      dialogVisible.value = true\n    }\n\n    const editProduct = (product) => {\n      dialogType.value = 'edit'\n      Object.assign(currentProduct, product)\n      dialogVisible.value = true\n    }\n\n    const saveProduct = () => {\n      if (dialogType.value === 'add') {\n        const newProduct = {\n          ...currentProduct,\n          id: products.value.length + 1\n        }\n        products.value.push(newProduct)\n      } else {\n        const index = products.value.findIndex(p => p.id === currentProduct.id)\n        if (index !== -1) {\n          products.value[index] = { ...currentProduct }\n        }\n      }\n      dialogVisible.value = false\n      ElMessage.success(`${dialogType.value === 'add' ? '添加' : '编辑'}商品成功`)\n    }\n\n    const toggleStatus = (product) => {\n      product.status = product.status === 'active' ? 'inactive' : 'active'\n      ElMessage.success(`商品已${product.status === 'active' ? '上架' : '下架'}`)\n    }\n\n    return {\n      products,\n      categories,\n      dialogVisible,\n      dialogType,\n      currentProduct,\n      getCategoryName,\n      showAddDialog,\n      editProduct,\n      saveProduct,\n      toggleStatus\n    }\n  }\n}\n</script>\n\n<style scoped>\n.admin-products {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.header h2 {\n  margin: 0;\n}\n\n@media screen and (max-width: 768px) {\n  .admin-products {\n    padding: 10px;\n  }\n  \n  .el-table {\n    font-size: 14px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}