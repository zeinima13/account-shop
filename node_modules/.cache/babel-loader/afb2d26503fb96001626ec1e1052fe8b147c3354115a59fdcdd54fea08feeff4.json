{"ast":null,"code":"import _objectSpread from \"C:/Users/ASUS/CascadeProjects/account-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport { ref, reactive } from 'vue';\nexport default {\n  name: 'AdminProducts',\n  setup: function setup() {\n    var products = ref([{\n      id: 1,\n      name: '微博-信用分510以上---6-9级老号',\n      category: '微博产品',\n      price: 99,\n      stock: 100,\n      status: '上架'\n    }]);\n    var categories = [{\n      id: '1',\n      name: '微博产品'\n    }, {\n      id: '2',\n      name: '微博白号'\n    }, {\n      id: '3',\n      name: '微博号'\n    }];\n    var dialogVisible = ref(false);\n    var dialogType = ref('add');\n    var productForm = reactive({\n      name: '',\n      category: '',\n      price: 0,\n      stock: 0\n    });\n    var showAddDialog = function showAddDialog() {\n      dialogType.value = 'add';\n      Object.assign(productForm, {\n        name: '',\n        category: '',\n        price: 0,\n        stock: 0\n      });\n      dialogVisible.value = true;\n    };\n    var editProduct = function editProduct(product) {\n      dialogType.value = 'edit';\n      Object.assign(productForm, product);\n      dialogVisible.value = true;\n    };\n    var saveProduct = function saveProduct() {\n      // 这里应该调用API保存商品\n      if (dialogType.value === 'add') {\n        products.value.push(_objectSpread(_objectSpread({\n          id: Date.now()\n        }, productForm), {}, {\n          status: '上架'\n        }));\n      } else {\n        var index = products.value.findIndex(function (p) {\n          return p.id === productForm.id;\n        });\n        if (index !== -1) {\n          products.value[index] = _objectSpread({}, productForm);\n        }\n      }\n      dialogVisible.value = false;\n    };\n    var toggleStatus = function toggleStatus(product) {\n      product.status = product.status === '上架' ? '下架' : '上架';\n    };\n    var deleteProduct = function deleteProduct(product) {\n      ElMessageBox.confirm('确定要删除该商品吗？', '提示', {\n        type: 'warning'\n      }).then(function () {\n        var index = products.value.findIndex(function (p) {\n          return p.id === product.id;\n        });\n        if (index !== -1) {\n          products.value.splice(index, 1);\n        }\n      });\n    };\n    return {\n      products: products,\n      categories: categories,\n      dialogVisible: dialogVisible,\n      dialogType: dialogType,\n      productForm: productForm,\n      showAddDialog: showAddDialog,\n      editProduct: editProduct,\n      saveProduct: saveProduct,\n      toggleStatus: toggleStatus,\n      deleteProduct: deleteProduct\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","name","setup","products","id","category","price","stock","status","categories","dialogVisible","dialogType","productForm","showAddDialog","value","Object","assign","editProduct","product","saveProduct","push","_objectSpread","Date","now","index","findIndex","p","toggleStatus","deleteProduct","ElMessageBox","confirm","type","then","splice"],"sources":["C:\\Users\\ASUS\\CascadeProjects\\account-shop\\src\\views\\admin\\Products.vue"],"sourcesContent":["<template>\n  <div class=\"admin-products\">\n    <div class=\"header\">\n      <h2>商品管理</h2>\n      <el-button type=\"primary\" @click=\"showAddDialog\">添加商品</el-button>\n    </div>\n\n    <el-table :data=\"products\" style=\"width: 100%\">\n      <el-table-column prop=\"name\" label=\"商品名称\" />\n      <el-table-column prop=\"category\" label=\"分类\" />\n      <el-table-column prop=\"price\" label=\"价格\" />\n      <el-table-column prop=\"stock\" label=\"库存\" />\n      <el-table-column prop=\"status\" label=\"状态\">\n        <template #default=\"{ row }\">\n          <el-tag :type=\"row.status === '上架' ? 'success' : 'info'\">\n            {{ row.status }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template #default=\"{ row }\">\n          <el-button-group>\n            <el-button type=\"primary\" @click=\"editProduct(row)\">编辑</el-button>\n            <el-button \n              :type=\"row.status === '上架' ? 'warning' : 'success'\"\n              @click=\"toggleStatus(row)\"\n            >\n              {{ row.status === '上架' ? '下架' : '上架' }}\n            </el-button>\n            <el-button type=\"danger\" @click=\"deleteProduct(row)\">删除</el-button>\n          </el-button-group>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 添加/编辑商品对话框 -->\n    <el-dialog \n      :title=\"dialogType === 'add' ? '添加商品' : '编辑商品'\" \n      v-model=\"dialogVisible\"\n    >\n      <el-form :model=\"productForm\" label-width=\"80px\">\n        <el-form-item label=\"商品名称\">\n          <el-input v-model=\"productForm.name\" />\n        </el-form-item>\n        <el-form-item label=\"分类\">\n          <el-select v-model=\"productForm.category\">\n            <el-option \n              v-for=\"cat in categories\" \n              :key=\"cat.id\" \n              :label=\"cat.name\" \n              :value=\"cat.id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"价格\">\n          <el-input-number v-model=\"productForm.price\" :min=\"0\" />\n        </el-form-item>\n        <el-form-item label=\"库存\">\n          <el-input-number v-model=\"productForm.stock\" :min=\"0\" />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveProduct\">确定</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\n\nexport default {\n  name: 'AdminProducts',\n  setup() {\n    const products = ref([\n      {\n        id: 1,\n        name: '微博-信用分510以上---6-9级老号',\n        category: '微博产品',\n        price: 99,\n        stock: 100,\n        status: '上架'\n      }\n    ])\n\n    const categories = [\n      { id: '1', name: '微博产品' },\n      { id: '2', name: '微博白号' },\n      { id: '3', name: '微博号' }\n    ]\n\n    const dialogVisible = ref(false)\n    const dialogType = ref('add')\n    const productForm = reactive({\n      name: '',\n      category: '',\n      price: 0,\n      stock: 0\n    })\n\n    const showAddDialog = () => {\n      dialogType.value = 'add'\n      Object.assign(productForm, {\n        name: '',\n        category: '',\n        price: 0,\n        stock: 0\n      })\n      dialogVisible.value = true\n    }\n\n    const editProduct = (product) => {\n      dialogType.value = 'edit'\n      Object.assign(productForm, product)\n      dialogVisible.value = true\n    }\n\n    const saveProduct = () => {\n      // 这里应该调用API保存商品\n      if (dialogType.value === 'add') {\n        products.value.push({\n          id: Date.now(),\n          ...productForm,\n          status: '上架'\n        })\n      } else {\n        const index = products.value.findIndex(p => p.id === productForm.id)\n        if (index !== -1) {\n          products.value[index] = { ...productForm }\n        }\n      }\n      dialogVisible.value = false\n    }\n\n    const toggleStatus = (product) => {\n      product.status = product.status === '上架' ? '下架' : '上架'\n    }\n\n    const deleteProduct = (product) => {\n      ElMessageBox.confirm('确定要删除该商品吗？', '提示', {\n        type: 'warning'\n      }).then(() => {\n        const index = products.value.findIndex(p => p.id === product.id)\n        if (index !== -1) {\n          products.value.splice(index, 1)\n        }\n      })\n    }\n\n    return {\n      products,\n      categories,\n      dialogVisible,\n      dialogType,\n      productForm,\n      showAddDialog,\n      editProduct,\n      saveProduct,\n      toggleStatus,\n      deleteProduct\n    }\n  }\n}\n</script>\n\n<style scoped>\n.admin-products {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.header h2 {\n  margin: 0;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}