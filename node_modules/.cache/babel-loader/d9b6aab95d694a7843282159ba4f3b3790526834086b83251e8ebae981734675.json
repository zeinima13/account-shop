{"ast":null,"code":"import \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.string.ends-with.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nfunction useCursor(input) {\n  var selectionInfo;\n  function recordCursor() {\n    if (input.value == void 0) return;\n    var _input$value = input.value,\n      selectionStart = _input$value.selectionStart,\n      selectionEnd = _input$value.selectionEnd,\n      value = _input$value.value;\n    if (selectionStart == null || selectionEnd == null) return;\n    var beforeTxt = value.slice(0, Math.max(0, selectionStart));\n    var afterTxt = value.slice(Math.max(0, selectionEnd));\n    selectionInfo = {\n      selectionStart: selectionStart,\n      selectionEnd: selectionEnd,\n      value: value,\n      beforeTxt: beforeTxt,\n      afterTxt: afterTxt\n    };\n  }\n  function setCursor() {\n    if (input.value == void 0 || selectionInfo == void 0) return;\n    var value = input.value.value;\n    var _selectionInfo = selectionInfo,\n      beforeTxt = _selectionInfo.beforeTxt,\n      afterTxt = _selectionInfo.afterTxt,\n      selectionStart = _selectionInfo.selectionStart;\n    if (beforeTxt == void 0 || afterTxt == void 0 || selectionStart == void 0) return;\n    var startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else {\n      var beforeLastChar = beforeTxt[selectionStart - 1];\n      var newIndex = value.indexOf(beforeLastChar, selectionStart - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    input.value.setSelectionRange(startPos, startPos);\n  }\n  return [recordCursor, setCursor];\n}\nexport { useCursor };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}