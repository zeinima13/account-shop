{"ast":null,"code":"import { ref, reactive } from 'vue';\nexport default {\n  name: 'AdminProducts',\n  setup() {\n    const products = ref([{\n      id: 1,\n      name: '微博-信用分510以上---6-9级老号',\n      category: '微博产品',\n      price: 99,\n      stock: 100,\n      status: '上架'\n    }]);\n    const categories = [{\n      id: '1',\n      name: '微博产品'\n    }, {\n      id: '2',\n      name: '微博白号'\n    }, {\n      id: '3',\n      name: '微博号'\n    }];\n    const dialogVisible = ref(false);\n    const dialogType = ref('add');\n    const productForm = reactive({\n      name: '',\n      category: '',\n      price: 0,\n      stock: 0\n    });\n    const showAddDialog = () => {\n      dialogType.value = 'add';\n      Object.assign(productForm, {\n        name: '',\n        category: '',\n        price: 0,\n        stock: 0\n      });\n      dialogVisible.value = true;\n    };\n    const editProduct = product => {\n      dialogType.value = 'edit';\n      Object.assign(productForm, product);\n      dialogVisible.value = true;\n    };\n    const saveProduct = () => {\n      // 这里应该调用API保存商品\n      if (dialogType.value === 'add') {\n        products.value.push({\n          id: Date.now(),\n          ...productForm,\n          status: '上架'\n        });\n      } else {\n        const index = products.value.findIndex(p => p.id === productForm.id);\n        if (index !== -1) {\n          products.value[index] = {\n            ...productForm\n          };\n        }\n      }\n      dialogVisible.value = false;\n    };\n    const toggleStatus = product => {\n      product.status = product.status === '上架' ? '下架' : '上架';\n    };\n    const deleteProduct = product => {\n      ElMessageBox.confirm('确定要删除该商品吗？', '提示', {\n        type: 'warning'\n      }).then(() => {\n        const index = products.value.findIndex(p => p.id === product.id);\n        if (index !== -1) {\n          products.value.splice(index, 1);\n        }\n      });\n    };\n    return {\n      products,\n      categories,\n      dialogVisible,\n      dialogType,\n      productForm,\n      showAddDialog,\n      editProduct,\n      saveProduct,\n      toggleStatus,\n      deleteProduct\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","name","setup","products","id","category","price","stock","status","categories","dialogVisible","dialogType","productForm","showAddDialog","value","Object","assign","editProduct","product","saveProduct","push","Date","now","index","findIndex","p","toggleStatus","deleteProduct","ElMessageBox","confirm","type","then","splice"],"sources":["C:\\Users\\ASUS\\CascadeProjects\\account-shop\\src\\views\\admin\\Products.vue"],"sourcesContent":["<template>\n  <div class=\"admin-products\">\n    <div class=\"header\">\n      <h2>商品管理</h2>\n      <el-button type=\"primary\" @click=\"showAddDialog\">添加商品</el-button>\n    </div>\n\n    <el-table :data=\"products\" style=\"width: 100%\">\n      <el-table-column prop=\"name\" label=\"商品名称\" />\n      <el-table-column prop=\"category\" label=\"分类\" />\n      <el-table-column prop=\"price\" label=\"价格\" />\n      <el-table-column prop=\"stock\" label=\"库存\" />\n      <el-table-column prop=\"status\" label=\"状态\">\n        <template #default=\"{ row }\">\n          <el-tag :type=\"row.status === '上架' ? 'success' : 'info'\">\n            {{ row.status }}\n          </el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template #default=\"{ row }\">\n          <el-button-group>\n            <el-button type=\"primary\" @click=\"editProduct(row)\">编辑</el-button>\n            <el-button \n              :type=\"row.status === '上架' ? 'warning' : 'success'\"\n              @click=\"toggleStatus(row)\"\n            >\n              {{ row.status === '上架' ? '下架' : '上架' }}\n            </el-button>\n            <el-button type=\"danger\" @click=\"deleteProduct(row)\">删除</el-button>\n          </el-button-group>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 添加/编辑商品对话框 -->\n    <el-dialog \n      :title=\"dialogType === 'add' ? '添加商品' : '编辑商品'\" \n      v-model=\"dialogVisible\"\n    >\n      <el-form :model=\"productForm\" label-width=\"80px\">\n        <el-form-item label=\"商品名称\">\n          <el-input v-model=\"productForm.name\" />\n        </el-form-item>\n        <el-form-item label=\"分类\">\n          <el-select v-model=\"productForm.category\">\n            <el-option \n              v-for=\"cat in categories\" \n              :key=\"cat.id\" \n              :label=\"cat.name\" \n              :value=\"cat.id\"\n            />\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"价格\">\n          <el-input-number v-model=\"productForm.price\" :min=\"0\" />\n        </el-form-item>\n        <el-form-item label=\"库存\">\n          <el-input-number v-model=\"productForm.stock\" :min=\"0\" />\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveProduct\">确定</el-button>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\n\nexport default {\n  name: 'AdminProducts',\n  setup() {\n    const products = ref([\n      {\n        id: 1,\n        name: '微博-信用分510以上---6-9级老号',\n        category: '微博产品',\n        price: 99,\n        stock: 100,\n        status: '上架'\n      }\n    ])\n\n    const categories = [\n      { id: '1', name: '微博产品' },\n      { id: '2', name: '微博白号' },\n      { id: '3', name: '微博号' }\n    ]\n\n    const dialogVisible = ref(false)\n    const dialogType = ref('add')\n    const productForm = reactive({\n      name: '',\n      category: '',\n      price: 0,\n      stock: 0\n    })\n\n    const showAddDialog = () => {\n      dialogType.value = 'add'\n      Object.assign(productForm, {\n        name: '',\n        category: '',\n        price: 0,\n        stock: 0\n      })\n      dialogVisible.value = true\n    }\n\n    const editProduct = (product) => {\n      dialogType.value = 'edit'\n      Object.assign(productForm, product)\n      dialogVisible.value = true\n    }\n\n    const saveProduct = () => {\n      // 这里应该调用API保存商品\n      if (dialogType.value === 'add') {\n        products.value.push({\n          id: Date.now(),\n          ...productForm,\n          status: '上架'\n        })\n      } else {\n        const index = products.value.findIndex(p => p.id === productForm.id)\n        if (index !== -1) {\n          products.value[index] = { ...productForm }\n        }\n      }\n      dialogVisible.value = false\n    }\n\n    const toggleStatus = (product) => {\n      product.status = product.status === '上架' ? '下架' : '上架'\n    }\n\n    const deleteProduct = (product) => {\n      ElMessageBox.confirm('确定要删除该商品吗？', '提示', {\n        type: 'warning'\n      }).then(() => {\n        const index = products.value.findIndex(p => p.id === product.id)\n        if (index !== -1) {\n          products.value.splice(index, 1)\n        }\n      })\n    }\n\n    return {\n      products,\n      categories,\n      dialogVisible,\n      dialogType,\n      productForm,\n      showAddDialog,\n      editProduct,\n      saveProduct,\n      toggleStatus,\n      deleteProduct\n    }\n  }\n}\n</script>\n\n<style scoped>\n.admin-products {\n  padding: 20px;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.header h2 {\n  margin: 0;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}