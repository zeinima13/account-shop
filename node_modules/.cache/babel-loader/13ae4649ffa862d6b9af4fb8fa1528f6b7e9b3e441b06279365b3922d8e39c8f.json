{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, reactive } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'Shop',\n  setup: function setup() {\n    var router = useRouter();\n    var activeCategory = ref('1');\n    var email = ref('');\n    var orderForm = reactive({});\n    var categories = [{\n      id: '1',\n      name: '微博产品'\n    }, {\n      id: '2',\n      name: '微博白号'\n    }, {\n      id: '3',\n      name: '微博号'\n    }];\n    var products = ref([{\n      id: 1,\n      categoryId: '1',\n      name: '微博-信用分510以上---6-9级老号',\n      price: 99,\n      stock: 100\n    }, {\n      id: 2,\n      categoryId: '1',\n      name: '微博0-20级',\n      price: 49,\n      stock: 200\n    }]);\n    var handleCategorySelect = function handleCategorySelect(index) {\n      activeCategory.value = index;\n      // 这里应该调用API获取该分类下的商品\n    };\n    var submitOrder = function submitOrder(product) {\n      if (!email.value) {\n        ElMessage.error('请输入邮箱');\n        return;\n      }\n      var quantity = orderForm[product.id];\n      if (!quantity) {\n        ElMessage.error('请选择购买数量');\n        return;\n      }\n\n      // 跳转到支付页面\n      router.push({\n        name: 'payment',\n        query: {\n          productId: product.id,\n          quantity: quantity,\n          email: email.value\n        }\n      });\n    };\n    return {\n      activeCategory: activeCategory,\n      categories: categories,\n      products: products,\n      email: email,\n      orderForm: orderForm,\n      handleCategorySelect: handleCategorySelect,\n      submitOrder: submitOrder\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","useRouter","name","setup","router","activeCategory","email","orderForm","categories","id","products","categoryId","price","stock","handleCategorySelect","index","value","submitOrder","product","ElMessage","error","quantity","push","query","productId"],"sources":["C:\\Users\\ASUS\\CascadeProjects\\account-shop\\src\\views\\Shop.vue"],"sourcesContent":["<template>\n  <div class=\"shop-container\">\n    <el-container>\n      <el-aside width=\"200px\">\n        <el-menu\n          :default-active=\"activeCategory\"\n          @select=\"handleCategorySelect\"\n        >\n          <el-menu-item v-for=\"cat in categories\" :key=\"cat.id\" :index=\"cat.id\">\n            {{ cat.name }}\n          </el-menu-item>\n        </el-menu>\n      </el-aside>\n      \n      <el-main>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\" v-for=\"product in products\" :key=\"product.id\">\n            <el-card class=\"product-card\">\n              <div class=\"product-info\">\n                <h3>{{ product.name }}</h3>\n                <div class=\"price\">¥{{ product.price }}</div>\n                <div class=\"stock\">库存: {{ product.stock }}</div>\n              </div>\n              <div class=\"purchase-form\">\n                <el-form :model=\"orderForm\" label-width=\"80px\">\n                  <el-form-item label=\"数量\">\n                    <el-input-number \n                      v-model=\"orderForm[product.id]\" \n                      :min=\"1\" \n                      :max=\"product.stock\"\n                    />\n                  </el-form-item>\n                  <el-form-item label=\"邮箱\">\n                    <el-input v-model=\"email\" placeholder=\"请输入邮箱\"/>\n                  </el-form-item>\n                  <el-button type=\"primary\" @click=\"submitOrder(product)\">立即下单</el-button>\n                </el-form>\n              </div>\n            </el-card>\n          </el-col>\n        </el-row>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default {\n  name: 'Shop',\n  setup() {\n    const router = useRouter()\n    const activeCategory = ref('1')\n    const email = ref('')\n    const orderForm = reactive({})\n\n    const categories = [\n      { id: '1', name: '微博产品' },\n      { id: '2', name: '微博白号' },\n      { id: '3', name: '微博号' }\n    ]\n\n    const products = ref([\n      { \n        id: 1, \n        categoryId: '1',\n        name: '微博-信用分510以上---6-9级老号', \n        price: 99,\n        stock: 100\n      },\n      {\n        id: 2,\n        categoryId: '1',\n        name: '微博0-20级',\n        price: 49,\n        stock: 200\n      }\n    ])\n\n    const handleCategorySelect = (index) => {\n      activeCategory.value = index\n      // 这里应该调用API获取该分类下的商品\n    }\n\n    const submitOrder = (product) => {\n      if (!email.value) {\n        ElMessage.error('请输入邮箱')\n        return\n      }\n      \n      const quantity = orderForm[product.id]\n      if (!quantity) {\n        ElMessage.error('请选择购买数量')\n        return\n      }\n\n      // 跳转到支付页面\n      router.push({\n        name: 'payment',\n        query: {\n          productId: product.id,\n          quantity,\n          email: email.value\n        }\n      })\n    }\n\n    return {\n      activeCategory,\n      categories,\n      products,\n      email,\n      orderForm,\n      handleCategorySelect,\n      submitOrder\n    }\n  }\n}\n</script>\n\n<style scoped>\n.shop-container {\n  height: 100vh;\n}\n\n.product-card {\n  margin-bottom: 20px;\n}\n\n.product-info {\n  margin-bottom: 20px;\n}\n\n.price {\n  color: #f56c6c;\n  font-size: 20px;\n  margin: 10px 0;\n}\n\n.stock {\n  color: #909399;\n}\n\n.purchase-form {\n  max-width: 400px;\n}\n</style>\n"],"mappings":";AA+CA,SAASA,GAAG,EAAEC,QAAO,QAAS,KAAI;AAClC,SAASC,SAAQ,QAAS,YAAW;AAErC,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,KAAK,WAALA,KAAKA,CAAA,EAAG;IACN,IAAMC,MAAK,GAAIH,SAAS,CAAC;IACzB,IAAMI,cAAa,GAAIN,GAAG,CAAC,GAAG;IAC9B,IAAMO,KAAI,GAAIP,GAAG,CAAC,EAAE;IACpB,IAAMQ,SAAQ,GAAIP,QAAQ,CAAC,CAAC,CAAC;IAE7B,IAAMQ,UAAS,GAAI,CACjB;MAAEC,EAAE,EAAE,GAAG;MAAEP,IAAI,EAAE;IAAO,CAAC,EACzB;MAAEO,EAAE,EAAE,GAAG;MAAEP,IAAI,EAAE;IAAO,CAAC,EACzB;MAAEO,EAAE,EAAE,GAAG;MAAEP,IAAI,EAAE;IAAM,EACzB;IAEA,IAAMQ,QAAO,GAAIX,GAAG,CAAC,CACnB;MACEU,EAAE,EAAE,CAAC;MACLE,UAAU,EAAE,GAAG;MACfT,IAAI,EAAE,sBAAsB;MAC5BU,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE;IACT,CAAC,EACD;MACEJ,EAAE,EAAE,CAAC;MACLE,UAAU,EAAE,GAAG;MACfT,IAAI,EAAE,SAAS;MACfU,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE;IACT,EACD;IAED,IAAMC,oBAAmB,GAAI,SAAvBA,oBAAmBA,CAAKC,KAAK,EAAK;MACtCV,cAAc,CAACW,KAAI,GAAID,KAAI;MAC3B;IACF;IAEA,IAAME,WAAU,GAAI,SAAdA,WAAUA,CAAKC,OAAO,EAAK;MAC/B,IAAI,CAACZ,KAAK,CAACU,KAAK,EAAE;QAChBG,SAAS,CAACC,KAAK,CAAC,OAAO;QACvB;MACF;MAEA,IAAMC,QAAO,GAAId,SAAS,CAACW,OAAO,CAACT,EAAE;MACrC,IAAI,CAACY,QAAQ,EAAE;QACbF,SAAS,CAACC,KAAK,CAAC,SAAS;QACzB;MACF;;MAEA;MACAhB,MAAM,CAACkB,IAAI,CAAC;QACVpB,IAAI,EAAE,SAAS;QACfqB,KAAK,EAAE;UACLC,SAAS,EAAEN,OAAO,CAACT,EAAE;UACrBY,QAAQ,EAARA,QAAQ;UACRf,KAAK,EAAEA,KAAK,CAACU;QACf;MACF,CAAC;IACH;IAEA,OAAO;MACLX,cAAc,EAAdA,cAAc;MACdG,UAAU,EAAVA,UAAU;MACVE,QAAQ,EAARA,QAAQ;MACRJ,KAAK,EAALA,KAAK;MACLC,SAAS,EAATA,SAAS;MACTO,oBAAoB,EAApBA,oBAAoB;MACpBG,WAAU,EAAVA;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}