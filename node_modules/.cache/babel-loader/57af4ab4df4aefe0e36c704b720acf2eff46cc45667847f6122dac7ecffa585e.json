{"ast":null,"code":"import \"element-plus/theme-chalk/el-message.css\";\nimport _ElMessage from \"element-plus/lib/el-message\";\nimport _objectSpread from \"C:/Users/ASUS/CascadeProjects/account-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { ref, reactive } from 'vue';\nexport default {\n  name: 'AdminProducts',\n  setup: function setup() {\n    var products = ref([{\n      id: 1,\n      name: 'Steam账号',\n      category: 'game',\n      price: 99,\n      stock: 10,\n      status: 'active'\n    }, {\n      id: 2,\n      name: 'Netflix会员',\n      category: 'video',\n      price: 29,\n      stock: 20,\n      status: 'active'\n    }, {\n      id: 3,\n      name: 'Spotify会员',\n      category: 'music',\n      price: 19,\n      stock: 15,\n      status: 'active'\n    }]);\n    var categories = [{\n      id: 'game',\n      name: '游戏账号'\n    }, {\n      id: 'video',\n      name: '视频会员'\n    }, {\n      id: 'music',\n      name: '音乐会员'\n    }, {\n      id: 'other',\n      name: '其他账号'\n    }];\n    var dialogVisible = ref(false);\n    var dialogType = ref('add');\n    var currentProduct = reactive({\n      id: null,\n      name: '',\n      category: '',\n      price: 0,\n      stock: 0,\n      status: 'active'\n    });\n    var getCategoryName = function getCategoryName(categoryId) {\n      var category = categories.find(function (c) {\n        return c.id === categoryId;\n      });\n      return category ? category.name : categoryId;\n    };\n    var showAddDialog = function showAddDialog() {\n      dialogType.value = 'add';\n      Object.assign(currentProduct, {\n        id: null,\n        name: '',\n        category: '',\n        price: 0,\n        stock: 0,\n        status: 'active'\n      });\n      dialogVisible.value = true;\n    };\n    var editProduct = function editProduct(product) {\n      dialogType.value = 'edit';\n      Object.assign(currentProduct, product);\n      dialogVisible.value = true;\n    };\n    var saveProduct = function saveProduct() {\n      if (dialogType.value === 'add') {\n        var newProduct = _objectSpread(_objectSpread({}, currentProduct), {}, {\n          id: products.value.length + 1\n        });\n        products.value.push(newProduct);\n      } else {\n        var index = products.value.findIndex(function (p) {\n          return p.id === currentProduct.id;\n        });\n        if (index !== -1) {\n          products.value[index] = _objectSpread({}, currentProduct);\n        }\n      }\n      dialogVisible.value = false;\n      _ElMessage.success(\"\".concat(dialogType.value === 'add' ? '添加' : '编辑', \"\\u5546\\u54C1\\u6210\\u529F\"));\n    };\n    var toggleStatus = function toggleStatus(product) {\n      product.status = product.status === 'active' ? 'inactive' : 'active';\n      _ElMessage.success(\"\\u5546\\u54C1\\u5DF2\".concat(product.status === 'active' ? '上架' : '下架'));\n    };\n    return {\n      products: products,\n      categories: categories,\n      dialogVisible: dialogVisible,\n      dialogType: dialogType,\n      currentProduct: currentProduct,\n      getCategoryName: getCategoryName,\n      showAddDialog: showAddDialog,\n      editProduct: editProduct,\n      saveProduct: saveProduct,\n      toggleStatus: toggleStatus\n    };\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}