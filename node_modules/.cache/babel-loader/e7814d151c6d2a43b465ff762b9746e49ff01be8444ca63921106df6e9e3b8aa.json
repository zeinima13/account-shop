{"ast":null,"code":"import _objectSpread from \"C:/Users/ASUS/CascadeProjects/account-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { defineComponent, ref, computed, watch, onMounted, onBeforeUnmount, provide, renderSlot, unref } from 'vue';\nimport { useTimeoutFn } from '@vueuse/core';\nimport { TOOLTIP_V2_OPEN, tooltipV2RootKey } from './constants.mjs';\nimport { tooltipV2RootProps } from './root.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { isPropAbsent, isNumber } from '../../../utils/types.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { useId } from '../../../hooks/use-id/index.mjs';\nvar __default__ = defineComponent({\n  name: \"ElTooltipV2Root\"\n});\nvar _sfc_main = /* @__PURE__ */defineComponent(_objectSpread(_objectSpread({}, __default__), {}, {\n  props: tooltipV2RootProps,\n  setup: function setup(__props, _ref) {\n    var expose = _ref.expose;\n    var props = __props;\n    var _open = ref(props.defaultOpen);\n    var triggerRef = ref(null);\n    var open = computed({\n      get: function get() {\n        return isPropAbsent(props.open) ? _open.value : props.open;\n      },\n      set: function set(open2) {\n        var _a;\n        _open.value = open2;\n        (_a = props[\"onUpdate:open\"]) == null ? void 0 : _a.call(props, open2);\n      }\n    });\n    var isOpenDelayed = computed(function () {\n      return isNumber(props.delayDuration) && props.delayDuration > 0;\n    });\n    var _useTimeoutFn = useTimeoutFn(function () {\n        open.value = true;\n      }, computed(function () {\n        return props.delayDuration;\n      }), {\n        immediate: false\n      }),\n      onDelayedOpen = _useTimeoutFn.start,\n      clearTimer = _useTimeoutFn.stop;\n    var ns = useNamespace(\"tooltip-v2\");\n    var contentId = useId();\n    var onNormalOpen = function onNormalOpen() {\n      clearTimer();\n      open.value = true;\n    };\n    var onDelayOpen = function onDelayOpen() {\n      unref(isOpenDelayed) ? onDelayedOpen() : onNormalOpen();\n    };\n    var onOpen = onNormalOpen;\n    var onClose = function onClose() {\n      clearTimer();\n      open.value = false;\n    };\n    var onChange = function onChange(open2) {\n      var _a;\n      if (open2) {\n        document.dispatchEvent(new CustomEvent(TOOLTIP_V2_OPEN));\n        onOpen();\n      }\n      (_a = props.onOpenChange) == null ? void 0 : _a.call(props, open2);\n    };\n    watch(open, onChange);\n    onMounted(function () {\n      document.addEventListener(TOOLTIP_V2_OPEN, onClose);\n    });\n    onBeforeUnmount(function () {\n      clearTimer();\n      document.removeEventListener(TOOLTIP_V2_OPEN, onClose);\n    });\n    provide(tooltipV2RootKey, {\n      contentId: contentId,\n      triggerRef: triggerRef,\n      ns: ns,\n      onClose: onClose,\n      onDelayOpen: onDelayOpen,\n      onOpen: onOpen\n    });\n    expose({\n      onOpen: onOpen,\n      onClose: onClose\n    });\n    return function (_ctx, _cache) {\n      return renderSlot(_ctx.$slots, \"default\", {\n        open: unref(open)\n      });\n    };\n  }\n}));\nvar TooltipV2Root = /* @__PURE__ */_export_sfc(_sfc_main, [[\"__file\", \"root.vue\"]]);\nexport { TooltipV2Root as default };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}