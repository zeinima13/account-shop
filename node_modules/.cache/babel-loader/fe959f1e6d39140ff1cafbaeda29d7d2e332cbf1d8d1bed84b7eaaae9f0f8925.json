{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nimport { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: 'Shop',\n  setup: function setup() {\n    var router = useRouter();\n    var form = ref({\n      productType: '',\n      product: '',\n      region: '',\n      gender: 'random'\n    });\n    var quantities = ref([0, 0, 0]);\n    var productTypes = [{\n      value: 'game',\n      label: '游戏账号'\n    }, {\n      value: 'video',\n      label: '视频会员'\n    }, {\n      value: 'music',\n      label: '音乐会员'\n    }];\n    var products = ref([{\n      id: 1,\n      name: 'Steam账号',\n      type: 'game',\n      price: 99\n    }, {\n      id: 2,\n      name: 'Netflix会员',\n      type: 'video',\n      price: 29\n    }, {\n      id: 3,\n      name: 'Spotify会员',\n      type: 'music',\n      price: 19\n    }]);\n    var regions = [{\n      value: 'cn',\n      label: '中国大陆'\n    }, {\n      value: 'hk',\n      label: '香港'\n    }, {\n      value: 'tw',\n      label: '台湾'\n    }];\n    var filteredProducts = computed(function () {\n      if (!form.value.productType) return [];\n      return products.value.filter(function (p) {\n        return p.type === form.value.productType;\n      });\n    });\n    var increaseQuantity = function increaseQuantity(index) {\n      quantities.value[index]++;\n    };\n    var decreaseQuantity = function decreaseQuantity(index) {\n      if (quantities.value[index] > 0) {\n        quantities.value[index]--;\n      }\n    };\n    var submitOrder = function submitOrder() {\n      var selectedProduct = products.value.find(function (p) {\n        return p.id === form.value.product;\n      });\n      if (!selectedProduct) {\n        ElMessage.warning('请选择商品');\n        return;\n      }\n      var totalQuantity = quantities.value.reduce(function (a, b) {\n        return a + b;\n      }, 0);\n      if (totalQuantity === 0) {\n        ElMessage.warning('请选择购买数量');\n        return;\n      }\n      var order = {\n        productId: selectedProduct.id,\n        productName: selectedProduct.name,\n        quantity: totalQuantity,\n        price: selectedProduct.price,\n        total: selectedProduct.price * totalQuantity,\n        region: form.value.region,\n        gender: form.value.gender\n      };\n      router.push({\n        name: 'payment',\n        params: {\n          order: JSON.stringify(order)\n        }\n      });\n    };\n    return {\n      form: form,\n      quantities: quantities,\n      productTypes: productTypes,\n      products: products,\n      regions: regions,\n      filteredProducts: filteredProducts,\n      increaseQuantity: increaseQuantity,\n      decreaseQuantity: decreaseQuantity,\n      submitOrder: submitOrder\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","useRouter","ElMessage","name","setup","router","form","productType","product","region","gender","quantities","productTypes","value","label","products","id","type","price","regions","filteredProducts","filter","p","increaseQuantity","index","decreaseQuantity","submitOrder","selectedProduct","find","warning","totalQuantity","reduce","a","b","order","productId","productName","quantity","total","push","params","JSON","stringify"],"sources":["C:\\Users\\ASUS\\CascadeProjects\\account-shop\\src\\views\\Shop.vue"],"sourcesContent":["<template>\n  <div class=\"shop-container\">\n    <div class=\"order-form\">\n      <el-form @submit.prevent=\"submitOrder\">\n        <!-- 商品类型选择 -->\n        <el-form-item>\n          <el-select\n            v-model=\"form.productType\"\n            placeholder=\"请选择商品类型\"\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"type in productTypes\"\n              :key=\"type.value\"\n              :label=\"type.label\"\n              :value=\"type.value\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <!-- 商品选择 -->\n        <el-form-item>\n          <el-select\n            v-model=\"form.product\"\n            placeholder=\"请选择商品\"\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"product in filteredProducts\"\n              :key=\"product.id\"\n              :label=\"product.name\"\n              :value=\"product.id\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <!-- 地区选择 -->\n        <el-form-item>\n          <el-select\n            v-model=\"form.region\"\n            placeholder=\"请选择地区\"\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"region in regions\"\n              :key=\"region.value\"\n              :label=\"region.label\"\n              :value=\"region.value\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <!-- 数量控制 -->\n        <div class=\"quantity-controls\">\n          <div class=\"quantity-item\" v-for=\"(qty, index) in quantities\" :key=\"index\">\n            <el-button \n              circle \n              size=\"small\"\n              @click=\"decreaseQuantity(index)\"\n            >-</el-button>\n            <span class=\"quantity-value\">{{ qty }}</span>\n            <el-button \n              circle \n              size=\"small\"\n              @click=\"increaseQuantity(index)\"\n            >+</el-button>\n          </div>\n        </div>\n\n        <!-- 性别选择 -->\n        <el-form-item class=\"gender-selection\">\n          <el-radio-group v-model=\"form.gender\">\n            <el-radio label=\"random\">随机</el-radio>\n            <el-radio label=\"male\">男</el-radio>\n            <el-radio label=\"female\">女</el-radio>\n          </el-radio-group>\n        </el-form-item>\n\n        <!-- 下单提示 -->\n        <div class=\"order-tip\">\n          下单后系统自动发送卡密到该邮箱\n        </div>\n\n        <!-- 提交按钮 -->\n        <el-button \n          type=\"primary\" \n          class=\"submit-button\"\n          @click=\"submitOrder\"\n        >\n          立即下单\n        </el-button>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'Shop',\n  setup() {\n    const router = useRouter()\n    const form = ref({\n      productType: '',\n      product: '',\n      region: '',\n      gender: 'random'\n    })\n\n    const quantities = ref([0, 0, 0])\n\n    const productTypes = [\n      { value: 'game', label: '游戏账号' },\n      { value: 'video', label: '视频会员' },\n      { value: 'music', label: '音乐会员' }\n    ]\n\n    const products = ref([\n      { id: 1, name: 'Steam账号', type: 'game', price: 99 },\n      { id: 2, name: 'Netflix会员', type: 'video', price: 29 },\n      { id: 3, name: 'Spotify会员', type: 'music', price: 19 }\n    ])\n\n    const regions = [\n      { value: 'cn', label: '中国大陆' },\n      { value: 'hk', label: '香港' },\n      { value: 'tw', label: '台湾' }\n    ]\n\n    const filteredProducts = computed(() => {\n      if (!form.value.productType) return []\n      return products.value.filter(p => p.type === form.value.productType)\n    })\n\n    const increaseQuantity = (index) => {\n      quantities.value[index]++\n    }\n\n    const decreaseQuantity = (index) => {\n      if (quantities.value[index] > 0) {\n        quantities.value[index]--\n      }\n    }\n\n    const submitOrder = () => {\n      const selectedProduct = products.value.find(p => p.id === form.value.product)\n      if (!selectedProduct) {\n        ElMessage.warning('请选择商品')\n        return\n      }\n\n      const totalQuantity = quantities.value.reduce((a, b) => a + b, 0)\n      if (totalQuantity === 0) {\n        ElMessage.warning('请选择购买数量')\n        return\n      }\n\n      const order = {\n        productId: selectedProduct.id,\n        productName: selectedProduct.name,\n        quantity: totalQuantity,\n        price: selectedProduct.price,\n        total: selectedProduct.price * totalQuantity,\n        region: form.value.region,\n        gender: form.value.gender\n      }\n\n      router.push({\n        name: 'payment',\n        params: { \n          order: JSON.stringify(order)\n        }\n      })\n    }\n\n    return {\n      form,\n      quantities,\n      productTypes,\n      products,\n      regions,\n      filteredProducts,\n      increaseQuantity,\n      decreaseQuantity,\n      submitOrder\n    }\n  }\n}\n</script>\n\n<style scoped>\n.shop-container {\n  min-height: 100vh;\n  background: #f5f7fa;\n  display: flex;\n  justify-content: center;\n  padding: 20px;\n}\n\n.order-form {\n  width: 100%;\n  max-width: 500px;\n  background: white;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);\n}\n\n.quantity-controls {\n  margin: 20px 0;\n}\n\n.quantity-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.quantity-value {\n  width: 40px;\n  text-align: center;\n  margin: 0 10px;\n}\n\n.gender-selection {\n  margin: 20px 0;\n}\n\n.order-tip {\n  color: #909399;\n  font-size: 14px;\n  margin: 15px 0;\n  text-align: center;\n}\n\n.submit-button {\n  width: 100%;\n  margin-top: 20px;\n}\n\n/* 移动端优化 */\n@media screen and (max-width: 768px) {\n  .shop-container {\n    padding: 10px;\n  }\n\n  .order-form {\n    padding: 15px;\n  }\n\n  .el-select {\n    width: 100%;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}