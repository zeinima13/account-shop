{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { computed } from 'vue';\nimport { useCheckboxDisabled } from './use-checkbox-disabled.mjs';\nimport { useCheckboxEvent } from './use-checkbox-event.mjs';\nimport { useCheckboxModel } from './use-checkbox-model.mjs';\nimport { useCheckboxStatus } from './use-checkbox-status.mjs';\nimport { useFormItem, useFormItemInputId } from '../../../form/src/hooks/use-form-item.mjs';\nimport { useDeprecated } from '../../../../hooks/use-deprecated/index.mjs';\nimport { isPropAbsent } from '../../../../utils/types.mjs';\nimport { isArray } from '@vue/shared';\nvar useCheckbox = function useCheckbox(props, slots) {\n  var _useFormItem = useFormItem(),\n    elFormItem = _useFormItem.formItem;\n  var _useCheckboxModel = useCheckboxModel(props),\n    model = _useCheckboxModel.model,\n    isGroup = _useCheckboxModel.isGroup,\n    isLimitExceeded = _useCheckboxModel.isLimitExceeded;\n  var _useCheckboxStatus = useCheckboxStatus(props, slots, {\n      model: model\n    }),\n    isFocused = _useCheckboxStatus.isFocused,\n    isChecked = _useCheckboxStatus.isChecked,\n    checkboxButtonSize = _useCheckboxStatus.checkboxButtonSize,\n    checkboxSize = _useCheckboxStatus.checkboxSize,\n    hasOwnLabel = _useCheckboxStatus.hasOwnLabel,\n    actualValue = _useCheckboxStatus.actualValue;\n  var _useCheckboxDisabled = useCheckboxDisabled({\n      model: model,\n      isChecked: isChecked\n    }),\n    isDisabled = _useCheckboxDisabled.isDisabled;\n  var _useFormItemInputId = useFormItemInputId(props, {\n      formItemContext: elFormItem,\n      disableIdGeneration: hasOwnLabel,\n      disableIdManagement: isGroup\n    }),\n    inputId = _useFormItemInputId.inputId,\n    isLabeledByFormItem = _useFormItemInputId.isLabeledByFormItem;\n  var _useCheckboxEvent = useCheckboxEvent(props, {\n      model: model,\n      isLimitExceeded: isLimitExceeded,\n      hasOwnLabel: hasOwnLabel,\n      isDisabled: isDisabled,\n      isLabeledByFormItem: isLabeledByFormItem\n    }),\n    handleChange = _useCheckboxEvent.handleChange,\n    onClickRoot = _useCheckboxEvent.onClickRoot;\n  var setStoreValue = function setStoreValue() {\n    function addToStore() {\n      var _a, _b;\n      if (isArray(model.value) && !model.value.includes(actualValue.value)) {\n        model.value.push(actualValue.value);\n      } else {\n        model.value = (_b = (_a = props.trueValue) != null ? _a : props.trueLabel) != null ? _b : true;\n      }\n    }\n    props.checked && addToStore();\n  };\n  setStoreValue();\n  useDeprecated({\n    from: \"label act as value\",\n    replacement: \"value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, computed(function () {\n    return isGroup.value && isPropAbsent(props.value);\n  }));\n  useDeprecated({\n    from: \"true-label\",\n    replacement: \"true-value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, computed(function () {\n    return !!props.trueLabel;\n  }));\n  useDeprecated({\n    from: \"false-label\",\n    replacement: \"false-value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, computed(function () {\n    return !!props.falseLabel;\n  }));\n  return {\n    inputId: inputId,\n    isLabeledByFormItem: isLabeledByFormItem,\n    isChecked: isChecked,\n    isDisabled: isDisabled,\n    isFocused: isFocused,\n    checkboxButtonSize: checkboxButtonSize,\n    checkboxSize: checkboxSize,\n    hasOwnLabel: hasOwnLabel,\n    model: model,\n    actualValue: actualValue,\n    handleChange: handleChange,\n    onClickRoot: onClickRoot\n  };\n};\nexport { useCheckbox };","map":{"version":3,"names":["useCheckbox","props","slots","_useFormItem","useFormItem","elFormItem","formItem","_useCheckboxModel","useCheckboxModel","model","isGroup","isLimitExceeded","_useCheckboxStatus","useCheckboxStatus","isFocused","isChecked","checkboxButtonSize","checkboxSize","hasOwnLabel","actualValue","_useCheckboxDisabled","useCheckboxDisabled","isDisabled","_useFormItemInputId","useFormItemInputId","formItemContext","disableIdGeneration","disableIdManagement","inputId","isLabeledByFormItem","_useCheckboxEvent","useCheckboxEvent","handleChange","onClickRoot","setStoreValue","addToStore","_a","_b","isArray","value","includes","push","trueValue","trueLabel","checked","useDeprecated","from","replacement","version","scope","ref","computed","isPropAbsent","falseLabel"],"sources":["../../../../../../../packages/components/checkbox/src/composables/use-checkbox.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { useFormItem, useFormItemInputId } from '@element-plus/components/form'\nimport { isArray, isPropAbsent } from '@element-plus/utils'\nimport { useDeprecated } from '@element-plus/hooks'\nimport { useCheckboxDisabled } from './use-checkbox-disabled'\nimport { useCheckboxEvent } from './use-checkbox-event'\nimport { useCheckboxModel } from './use-checkbox-model'\nimport { useCheckboxStatus } from './use-checkbox-status'\nimport type { ComponentInternalInstance } from 'vue'\n\nimport type { CheckboxProps } from '../checkbox'\n\nexport const useCheckbox = (\n  props: CheckboxProps,\n  slots: ComponentInternalInstance['slots']\n) => {\n  const { formItem: elFormItem } = useFormItem()\n  const { model, isGroup, isLimitExceeded } = useCheckboxModel(props)\n  const {\n    isFocused,\n    isChecked,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    actualValue,\n  } = useCheckboxStatus(props, slots, { model })\n  const { isDisabled } = useCheckboxDisabled({ model, isChecked })\n  const { inputId, isLabeledByFormItem } = useFormItemInputId(props, {\n    formItemContext: elFormItem,\n    disableIdGeneration: hasOwnLabel,\n    disableIdManagement: isGroup,\n  })\n  const { handleChange, onClickRoot } = useCheckboxEvent(props, {\n    model,\n    isLimitExceeded,\n    hasOwnLabel,\n    isDisabled,\n    isLabeledByFormItem,\n  })\n\n  const setStoreValue = () => {\n    function addToStore() {\n      if (isArray(model.value) && !model.value.includes(actualValue.value)) {\n        model.value.push(actualValue.value)\n      } else {\n        model.value = props.trueValue ?? props.trueLabel ?? true\n      }\n    }\n    props.checked && addToStore()\n  }\n\n  setStoreValue()\n\n  useDeprecated(\n    {\n      from: 'label act as value',\n      replacement: 'value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => isGroup.value && isPropAbsent(props.value))\n  )\n\n  useDeprecated(\n    {\n      from: 'true-label',\n      replacement: 'true-value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => !!props.trueLabel)\n  )\n\n  useDeprecated(\n    {\n      from: 'false-label',\n      replacement: 'false-value',\n      version: '3.0.0',\n      scope: 'el-checkbox',\n      ref: 'https://element-plus.org/en-US/component/checkbox.html',\n    },\n    computed(() => !!props.falseLabel)\n  )\n\n  return {\n    inputId,\n    isLabeledByFormItem,\n    isChecked,\n    isDisabled,\n    isFocused,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    model,\n    actualValue,\n    handleChange,\n    onClickRoot,\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}