{"ast":null,"code":"import { ref, watch, unref } from 'vue';\nvar useScrollbar = function useScrollbar(props, _ref) {\n  var mainTableRef = _ref.mainTableRef,\n    leftTableRef = _ref.leftTableRef,\n    rightTableRef = _ref.rightTableRef,\n    onMaybeEndReached = _ref.onMaybeEndReached;\n  var scrollPos = ref({\n    scrollLeft: 0,\n    scrollTop: 0\n  });\n  function doScroll(params) {\n    var _a, _b, _c;\n    var scrollTop = params.scrollTop;\n    (_a = mainTableRef.value) == null ? void 0 : _a.scrollTo(params);\n    (_b = leftTableRef.value) == null ? void 0 : _b.scrollToTop(scrollTop);\n    (_c = rightTableRef.value) == null ? void 0 : _c.scrollToTop(scrollTop);\n  }\n  function scrollTo(params) {\n    scrollPos.value = params;\n    doScroll(params);\n  }\n  function scrollToTop(scrollTop) {\n    scrollPos.value.scrollTop = scrollTop;\n    doScroll(unref(scrollPos));\n  }\n  function scrollToLeft(scrollLeft) {\n    var _a, _b;\n    scrollPos.value.scrollLeft = scrollLeft;\n    (_b = (_a = mainTableRef.value) == null ? void 0 : _a.scrollTo) == null ? void 0 : _b.call(_a, unref(scrollPos));\n  }\n  function onScroll(params) {\n    var _a;\n    scrollTo(params);\n    (_a = props.onScroll) == null ? void 0 : _a.call(props, params);\n  }\n  function onVerticalScroll(_ref2) {\n    var scrollTop = _ref2.scrollTop;\n    var _unref = unref(scrollPos),\n      currentScrollTop = _unref.scrollTop;\n    if (scrollTop !== currentScrollTop) scrollToTop(scrollTop);\n  }\n  function scrollToRow(row) {\n    var strategy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"auto\";\n    var _a;\n    (_a = mainTableRef.value) == null ? void 0 : _a.scrollToRow(row, strategy);\n  }\n  watch(function () {\n    return unref(scrollPos).scrollTop;\n  }, function (cur, prev) {\n    if (cur > prev) onMaybeEndReached();\n  });\n  return {\n    scrollPos: scrollPos,\n    scrollTo: scrollTo,\n    scrollToLeft: scrollToLeft,\n    scrollToTop: scrollToTop,\n    scrollToRow: scrollToRow,\n    onScroll: onScroll,\n    onVerticalScroll: onVerticalScroll\n  };\n};\nexport { useScrollbar };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}