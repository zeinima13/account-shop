{"ast":null,"code":"import { useAttrs, useSlots, computed } from 'vue';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nfunction useInputTagDom(_ref) {\n  var props = _ref.props,\n    isFocused = _ref.isFocused,\n    hovering = _ref.hovering,\n    disabled = _ref.disabled,\n    inputValue = _ref.inputValue,\n    size = _ref.size,\n    validateState = _ref.validateState,\n    validateIcon = _ref.validateIcon,\n    needStatusIcon = _ref.needStatusIcon;\n  var attrs = useAttrs();\n  var slots = useSlots();\n  var ns = useNamespace(\"input-tag\");\n  var nsInput = useNamespace(\"input\");\n  var containerKls = computed(function () {\n    return [ns.b(), ns.is(\"focused\", isFocused.value), ns.is(\"hovering\", hovering.value), ns.is(\"disabled\", disabled.value), ns.m(size.value), ns.e(\"wrapper\"), attrs[\"class\"]];\n  });\n  var containerStyle = computed(function () {\n    return [attrs.style];\n  });\n  var innerKls = computed(function () {\n    var _a, _b;\n    return [ns.e(\"inner\"), ns.is(\"draggable\", props.draggable), ns.is(\"left-space\", !((_a = props.modelValue) == null ? void 0 : _a.length) && !slots.prefix), ns.is(\"right-space\", !((_b = props.modelValue) == null ? void 0 : _b.length) && !showSuffix.value)];\n  });\n  var showClear = computed(function () {\n    var _a;\n    return props.clearable && !disabled.value && !props.readonly && (((_a = props.modelValue) == null ? void 0 : _a.length) || inputValue.value) && (isFocused.value || hovering.value);\n  });\n  var showSuffix = computed(function () {\n    return slots.suffix || showClear.value || validateState.value && validateIcon.value && needStatusIcon.value;\n  });\n  return {\n    ns: ns,\n    nsInput: nsInput,\n    containerKls: containerKls,\n    containerStyle: containerStyle,\n    innerKls: innerKls,\n    showClear: showClear,\n    showSuffix: showSuffix\n  };\n}\nexport { useInputTagDom };","map":{"version":3,"names":["useInputTagDom","_ref","props","isFocused","hovering","disabled","inputValue","size","validateState","validateIcon","needStatusIcon","attrs","useAttrs","slots","useSlots","ns","useNamespace","nsInput","containerKls","computed","b","is","value","m","e","containerStyle","style","innerKls","_a","_b","draggable","modelValue","length","prefix","showSuffix","showClear","clearable","readonly","suffix"],"sources":["../../../../../../../packages/components/input-tag/src/composables/use-input-tag-dom.ts"],"sourcesContent":["import { computed, useAttrs, useSlots } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport type { ComputedRef, Ref, StyleValue } from 'vue'\nimport type { ComponentSize } from '@element-plus/constants'\nimport type { InputTagProps } from '../input-tag'\n\ninterface UseInputTagDomOptions {\n  props: InputTagProps\n  isFocused: Ref<boolean>\n  hovering: Ref<boolean>\n  disabled: ComputedRef<boolean>\n  inputValue: Ref<string | undefined>\n  size: ComputedRef<ComponentSize>\n  validateState: ComputedRef<string>\n  validateIcon: ComputedRef<boolean>\n  needStatusIcon: ComputedRef<boolean>\n}\n\nexport function useInputTagDom({\n  props,\n  isFocused,\n  hovering,\n  disabled,\n  inputValue,\n  size,\n  validateState,\n  validateIcon,\n  needStatusIcon,\n}: UseInputTagDomOptions) {\n  const attrs = useAttrs()\n  const slots = useSlots()\n  const ns = useNamespace('input-tag')\n  const nsInput = useNamespace('input')\n\n  const containerKls = computed(() => [\n    ns.b(),\n    ns.is('focused', isFocused.value),\n    ns.is('hovering', hovering.value),\n    ns.is('disabled', disabled.value),\n    ns.m(size.value),\n    ns.e('wrapper'),\n    attrs.class,\n  ])\n  const containerStyle = computed<StyleValue>(() => [attrs.style as StyleValue])\n  const innerKls = computed(() => [\n    ns.e('inner'),\n    ns.is('draggable', props.draggable),\n    ns.is('left-space', !props.modelValue?.length && !slots.prefix),\n    ns.is('right-space', !props.modelValue?.length && !showSuffix.value),\n  ])\n  const showClear = computed(() => {\n    return (\n      props.clearable &&\n      !disabled.value &&\n      !props.readonly &&\n      (props.modelValue?.length || inputValue.value) &&\n      (isFocused.value || hovering.value)\n    )\n  })\n  const showSuffix = computed(() => {\n    return (\n      slots.suffix ||\n      showClear.value ||\n      (validateState.value && validateIcon.value && needStatusIcon.value)\n    )\n  })\n\n  return {\n    ns,\n    nsInput,\n    containerKls,\n    containerStyle,\n    innerKls,\n    showClear,\n    showSuffix,\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}