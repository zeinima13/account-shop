{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, computed } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Picture } from '@element-plus/icons-vue';\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: 'Shop',\n  components: {\n    Picture: Picture\n  },\n  setup: function setup() {\n    var router = useRouter();\n    var activeCategory = ref('1');\n    var dialogVisible = ref(false);\n    var selectedProduct = ref(null);\n    var categories = [{\n      id: '1',\n      name: '游戏账号'\n    }, {\n      id: '2',\n      name: '会员账号'\n    }, {\n      id: '3',\n      name: '流媒体账号'\n    }, {\n      id: '4',\n      name: '其他账号'\n    }];\n    var products = [{\n      id: '1',\n      name: 'Steam账号',\n      price: 99,\n      stock: 10,\n      category: '1',\n      image: '/product-images/steam.png'\n    }, {\n      id: '2',\n      name: 'Netflix会员',\n      price: 29,\n      stock: 20,\n      category: '3',\n      image: '/product-images/netflix.png'\n    }, {\n      id: '3',\n      name: 'Spotify会员',\n      price: 19,\n      stock: 15,\n      category: '3',\n      image: '/product-images/spotify.png'\n    }];\n    var orderForm = ref({\n      email: '',\n      quantity: 1\n    });\n    var orderRules = {\n      email: [{\n        required: true,\n        message: '请输入邮箱地址',\n        trigger: 'blur'\n      }, {\n        type: 'email',\n        message: '请输入正确的邮箱地址',\n        trigger: 'blur'\n      }],\n      quantity: [{\n        required: true,\n        message: '请选择购买数量',\n        trigger: 'blur'\n      }]\n    };\n    var orderTotal = computed(function () {\n      if (!selectedProduct.value) return 0;\n      return selectedProduct.value.price * orderForm.value.quantity;\n    });\n    var handleCategorySelect = function handleCategorySelect(categoryId) {\n      activeCategory.value = categoryId;\n      // 这里可以根据分类筛选商品\n    };\n    var handleBuyClick = function handleBuyClick(product) {\n      selectedProduct.value = product;\n      orderForm.value.quantity = 1;\n      dialogVisible.value = true;\n    };\n    var handleOrderConfirm = function handleOrderConfirm() {\n      if (!selectedProduct.value) return;\n\n      // 这里可以添加表单验证\n      router.push({\n        name: 'payment',\n        query: {\n          productId: selectedProduct.value.id,\n          quantity: orderForm.value.quantity,\n          email: orderForm.value.email,\n          amount: orderTotal.value\n        }\n      });\n    };\n    return {\n      activeCategory: activeCategory,\n      categories: categories,\n      products: products,\n      dialogVisible: dialogVisible,\n      selectedProduct: selectedProduct,\n      orderForm: orderForm,\n      orderRules: orderRules,\n      orderTotal: orderTotal,\n      handleCategorySelect: handleCategorySelect,\n      handleBuyClick: handleBuyClick,\n      handleOrderConfirm: handleOrderConfirm\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","useRouter","Picture","ElMessage","name","components","setup","router","activeCategory","dialogVisible","selectedProduct","categories","id","products","price","stock","category","image","orderForm","email","quantity","orderRules","required","message","trigger","type","orderTotal","value","handleCategorySelect","categoryId","handleBuyClick","product","handleOrderConfirm","push","query","productId","amount"],"sources":["C:\\Users\\ASUS\\CascadeProjects\\account-shop\\src\\views\\Shop.vue"],"sourcesContent":["<template>\n  <div class=\"shop-container\">\n    <div class=\"sidebar\">\n      <h2>商品分类</h2>\n      <el-menu\n        :default-active=\"activeCategory\"\n        class=\"category-menu\"\n        @select=\"handleCategorySelect\"\n      >\n        <el-menu-item\n          v-for=\"category in categories\"\n          :key=\"category.id\"\n          :index=\"category.id\"\n        >\n          {{ category.name }}\n        </el-menu-item>\n      </el-menu>\n    </div>\n\n    <div class=\"main-content\">\n      <div class=\"product-grid\">\n        <div v-for=\"product in products\" :key=\"product.id\" class=\"product-card\">\n          <div class=\"product-image\">\n            <img :src=\"product.image\" :alt=\"product.name\">\n          </div>\n          <div class=\"product-info\">\n            <h3>{{ product.name }}</h3>\n            <div class=\"product-meta\">\n              <span class=\"price\">¥{{ product.price }}</span>\n              <span class=\"stock\">库存: {{ product.stock }}</span>\n            </div>\n            <el-button\n              type=\"primary\"\n              size=\"small\"\n              @click=\"handleBuyClick(product)\"\n              :disabled=\"product.stock <= 0\"\n            >\n              {{ product.stock > 0 ? '立即购买' : '暂时缺货' }}\n            </el-button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <el-dialog\n      v-model=\"dialogVisible\"\n      title=\"确认订单\"\n      width=\"30%\"\n    >\n      <div class=\"order-form\">\n        <el-form\n          ref=\"orderForm\"\n          :model=\"orderForm\"\n          :rules=\"orderRules\"\n          label-width=\"80px\"\n        >\n          <el-form-item label=\"邮箱\" prop=\"email\">\n            <el-input v-model=\"orderForm.email\" placeholder=\"请输入邮箱地址\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"数量\" prop=\"quantity\">\n            <el-input-number\n              v-model=\"orderForm.quantity\"\n              :min=\"1\"\n              :max=\"selectedProduct ? selectedProduct.stock : 1\"\n            ></el-input-number>\n          </el-form-item>\n          <div class=\"order-total\">\n            总价: ¥{{ orderTotal }}\n          </div>\n        </el-form>\n      </div>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"handleOrderConfirm\">\n            确认下单\n          </el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { Picture } from '@element-plus/icons-vue'\nimport { ElMessage } from 'element-plus'\n\nexport default {\n  name: 'Shop',\n  components: {\n    Picture\n  },\n  setup() {\n    const router = useRouter()\n    const activeCategory = ref('1')\n    const dialogVisible = ref(false)\n    const selectedProduct = ref(null)\n    \n    const categories = [\n      { id: '1', name: '游戏账号' },\n      { id: '2', name: '会员账号' },\n      { id: '3', name: '流媒体账号' },\n      { id: '4', name: '其他账号' }\n    ]\n\n    const products = [\n      {\n        id: '1',\n        name: 'Steam账号',\n        price: 99,\n        stock: 10,\n        category: '1',\n        image: '/product-images/steam.png'\n      },\n      {\n        id: '2',\n        name: 'Netflix会员',\n        price: 29,\n        stock: 20,\n        category: '3',\n        image: '/product-images/netflix.png'\n      },\n      {\n        id: '3',\n        name: 'Spotify会员',\n        price: 19,\n        stock: 15,\n        category: '3',\n        image: '/product-images/spotify.png'\n      }\n    ]\n\n    const orderForm = ref({\n      email: '',\n      quantity: 1\n    })\n\n    const orderRules = {\n      email: [\n        { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n        { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\n      ],\n      quantity: [\n        { required: true, message: '请选择购买数量', trigger: 'blur' }\n      ]\n    }\n\n    const orderTotal = computed(() => {\n      if (!selectedProduct.value) return 0\n      return selectedProduct.value.price * orderForm.value.quantity\n    })\n\n    const handleCategorySelect = (categoryId) => {\n      activeCategory.value = categoryId\n      // 这里可以根据分类筛选商品\n    }\n\n    const handleBuyClick = (product) => {\n      selectedProduct.value = product\n      orderForm.value.quantity = 1\n      dialogVisible.value = true\n    }\n\n    const handleOrderConfirm = () => {\n      if (!selectedProduct.value) return\n      \n      // 这里可以添加表单验证\n      router.push({\n        name: 'payment',\n        query: {\n          productId: selectedProduct.value.id,\n          quantity: orderForm.value.quantity,\n          email: orderForm.value.email,\n          amount: orderTotal.value\n        }\n      })\n    }\n\n    return {\n      activeCategory,\n      categories,\n      products,\n      dialogVisible,\n      selectedProduct,\n      orderForm,\n      orderRules,\n      orderTotal,\n      handleCategorySelect,\n      handleBuyClick,\n      handleOrderConfirm\n    }\n  }\n}\n</script>\n\n<style scoped>\n.shop-container {\n  display: flex;\n  min-height: 100vh;\n  background: #f5f7fa;\n}\n\n.sidebar {\n  width: 200px;\n  background: white;\n  padding: 20px 0;\n  border-right: 1px solid #e6e6e6;\n}\n\n.sidebar h2 {\n  padding: 0 20px;\n  margin: 0 0 20px 0;\n  font-size: 18px;\n  color: #303133;\n}\n\n.category-menu {\n  border-right: none;\n}\n\n.main-content {\n  flex: 1;\n  padding: 20px;\n}\n\n.product-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 2rem;\n  padding: 2rem;\n}\n\n.product-card {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  transition: transform 0.2s;\n}\n\n.product-card:hover {\n  transform: translateY(-5px);\n}\n\n.product-image {\n  height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #f5f5f5;\n  padding: 1rem;\n}\n\n.product-image img {\n  max-width: 80%;\n  max-height: 80%;\n  object-fit: contain;\n}\n\n.product-info {\n  padding: 1.5rem;\n}\n\n.product-info h3 {\n  margin: 0 0 1rem;\n  font-size: 1.2rem;\n  color: #333;\n}\n\n.product-meta {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 1rem;\n  color: #666;\n}\n\n.price {\n  font-size: 1.25rem;\n  font-weight: bold;\n  color: #e53935;\n}\n\n.stock {\n  color: #666;\n}\n\n.order-form {\n  padding: 20px 0;\n}\n\n.order-total {\n  text-align: right;\n  padding: 10px 0;\n  font-size: 16px;\n  color: #f56c6c;\n  font-weight: bold;\n}\n\n.dialog-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 10px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}